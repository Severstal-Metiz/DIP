(this["webpackJsonpsqp-frontend"]=this["webpackJsonpsqp-frontend"]||[]).push([[0],{1063:function(e,t,n){},1119:function(e,t,n){},1343:function(e,t,n){},1345:function(e,t,n){},1361:function(e,t,n){},1365:function(e,t,n){},1366:function(e,t,n){},1392:function(e,t,n){},1393:function(e,t,n){"use strict";n.r(t);n(722),n(723),n(724),n(725),n(726),n(727),n(728),n(729),n(730),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(740),n(741),n(742),n(743),n(744),n(745),n(746),n(748),n(749),n(750),n(320),n(751),n(752),n(753),n(754),n(755),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(764),n(765),n(766),n(768),n(769),n(770),n(772),n(773),n(775),n(776),n(777),n(778),n(779),n(440),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(810),n(811),n(812),n(813),n(814),n(815),n(816),n(817),n(818),n(819),n(820),n(821),n(822),n(823),n(824),n(825),n(826),n(827),n(828),n(829),n(830),n(831),n(832),n(834),n(835),n(836),n(837),n(838),n(839),n(840),n(841),n(842),n(843),n(844),n(845),n(846),n(847),n(848),n(849),n(850),n(851),n(526),n(852),n(853),n(528),n(854),n(855),n(856),n(857),n(529),n(858),n(859),n(860),n(861),n(862),n(863),n(864),n(865),n(866),n(867),n(868),n(869),n(870),n(871),n(872),n(873),n(874),n(875),n(876),n(877),n(878),n(879),n(880),n(881),n(882),n(883),n(885),n(886),n(887),n(888),n(889),n(890),n(891),n(892),n(893),n(894),n(895),n(896),n(897),n(898),n(899),n(900),n(901),n(902),n(903),n(904),n(905),n(906),n(907),n(908),n(909),n(910),n(911),n(912),n(913),n(914),n(915),n(916),n(917),n(448),n(918),n(919),n(921),n(922),n(923),n(924),n(925),n(927),n(928),n(929),n(930),n(931),n(932),n(933),n(934),n(936),n(937),n(938),n(939),n(940),n(941),n(942),n(943),n(944),n(945),n(946),n(947),n(948),n(949),n(950),n(951),n(952),n(953),n(954),n(955),n(956),n(957),n(958),n(959),n(960),n(962),n(964),n(965),n(966),n(967),n(968),n(969),n(970),n(971),n(972),n(973),n(974),n(975),n(976),n(977),n(978),n(979),n(980),n(981),n(982),n(983),n(984),n(985),n(986),n(987),n(988),n(989),n(990),n(991),n(992),n(993),n(994),n(996),n(998),n(999),n(1e3),n(1001),n(1002),n(1003),n(1004),n(1005),n(1006),n(1007),n(1008),n(1009),n(1010),n(1011),n(1012),n(1014),n(539);var a,r,s,c=n(1),i=n.n(c),o=n(76),u=n.n(o),d=n(23),l=n(16),j=n.n(l),b=n(101),p=n(25),m=n(305),h=n(618),O=n(141),f=n(709),x=n(32),v=n(48),w=n(182),g=n(418),y=n.n(g),C=n(138),k=n(687),A={login:"",attemptsCount:0,isAuthenticated:!1,isMobileUser:!1,isBlocked:!1,hasError:!1,isLoading:!1,isSap:!1},S=Object(p.d)({name:"authentication",initialState:A,reducers:{setUserSearchResult:function(e,t){e.login=t.payload.login,e.attemptsCount=t.payload.attemptsCount,e.isBlocked=t.payload.isBlocked},setAuthenticated:function(e){e.isAuthenticated=!0},setMobileUser:function(e){e.isMobileUser=!0},setHasError:function(e,t){e.hasError=t.payload},setAttemptsCount:function(e,t){e.attemptsCount=t.payload,e.isBlocked=0===t.payload},setIsLoading:function(e,t){e.isLoading=t.payload},clearError:function(e){e.hasError=!1},resetState:function(){return A},setSap:function(e){e.isSap=!0}}}),T=Object(p.b)("authentication/searchUser"),E=Object(p.b)("authentication/searchUserBySmartCard"),I=Object(p.b)("authentication/submitLogin"),N=Object(p.b)("authentication/submitLoginSap"),R=Object(p.b)("authentication/submitLoginMtoro"),P=Object(p.b)("authentication/submitCreatePassword"),q=Object(p.b)("authentication/submitLogout"),L=S.actions,F=S.reducer;!function(e){e.WEB="web",e.IOS="ios",e.ANDROID="android",e.UNKNOWN="unknown"}(a||(a={})),function(e){e.RECEIVE="recv",e.SEND="send"}(r||(r={})),function(e){e.BOTX="botx",e.EXPRESS="express"}(s||(s={}));var _,M,Q,B=3e4,D="smartapp_rpc",U="smartAppLogs",H=function(){return function(){var e=new URLSearchParams(window.location.search).get("platform");return Object.values(a).includes(e)?e:a.UNKNOWN}()||(/android/i.test(navigator.userAgent)?a.ANDROID:(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)&&!window.MSStream?a.IOS:a.WEB)},G=n(28),z=n(158),W=n(210),K=n(1412),V=n(683),X=n.n(V),J=n(684),Y=n.n(J),Z=function e(t){var n;return Array.isArray(t)?t.map(e):t&&"Object"===(null===(n=t.constructor)||void 0===n?void 0:n.name)?Object.keys(t).reduce((function(n,a){var r=e(t[a]),s=function(e){return/[0-9a-fA-F-]{32}/.test(e)}(a)?a:X()(a);return Object(G.a)(Object(G.a)({},n),{},Object(b.a)({},s,r))}),{}):t},$=function e(t){var n;return Array.isArray(t)?t.map(e):t&&"Object"===(null===(n=t.constructor)||void 0===n?void 0:n.name)?Object.keys(t).reduce((function(n,a){var r=e(t[a]);return Object(G.a)(Object(G.a)({},n),{},Object(b.a)({},Y()(a),r))}),{}):t},ee=n(710),te=n(708),ne=n(686),ae=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(w.a)(this,n),t.call(this)}return Object(W.a)(n,[{key:"onceWithTimeout",value:function(e,t){var n=this;return new Promise((function(a,r){var s=setTimeout(r,t);n.once(e,(function(e){clearTimeout(s),a(e)}))}))}}]),n}(n.n(ne).a),re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.map((function(e){return"string"===typeof e?e:JSON.stringify(e)})).join(" ");alert(a)},se=function(){function e(){var t=this;Object(w.a)(this,e),this.eventEmitter=void 0,this.hasCommunicationObject=void 0,this.logsEnabled=void 0,this.isRenameParamsEnabled=void 0,this.hasCommunicationObject="undefined"!==typeof window.express&&!!window.express.handleSmartAppEvent,this.eventEmitter=new ae,this.logsEnabled=!1,this.isRenameParamsEnabled=!0,this.hasCommunicationObject?window.handleAndroidEvent=function(e){var n=e.ref,a=e.data,s=e.files;t.logsEnabled&&console.log("Bridge ~ Incoming event",JSON.stringify({ref:n,data:a,files:s},null,2));var c=a.type,i=Object(z.a)(a,["type"]),o=n||r.RECEIVE,u=t.isRenameParamsEnabled?null===s||void 0===s?void 0:s.map((function(e){return Z(e)})):s,d={ref:n,type:c,payload:t.isRenameParamsEnabled?Z(i):i,files:u};t.eventEmitter.emit(o,d)}:re('No method "express.handleSmartAppEvent", cannot send message to Android')}return Object(W.a)(e,[{key:"onReceive",value:function(e){this.eventEmitter.on(r.RECEIVE,e)}},{key:"sendEvent",value:function(e){var t=e.handler,n=e.method,a=e.params,r=e.files,s=e.timeout,c=void 0===s?B:s,i=e.guaranteed_delivery_required,o=void 0!==i&&i;if(!this.hasCommunicationObject)return Promise.reject();var u=Object(K.a)(),d={ref:u,type:D,method:n,handler:t,payload:this.isRenameParamsEnabled?$(a):a,guaranteed_delivery_required:o},l=this.isRenameParamsEnabled?null===r||void 0===r?void 0:r.map((function(e){return $(e)})):r,j=JSON.stringify(r?Object(G.a)(Object(G.a)({},d),{},{files:l}):d);return this.logsEnabled&&console.log("Bridge ~ Outgoing event",JSON.stringify(j,null,"  ")),window.express.handleSmartAppEvent(j),this.eventEmitter.onceWithTimeout(u,c)}},{key:"sendBotEvent",value:function(e){var t=e.method,n=e.params,a=e.files,r=e.timeout,c=e.guaranteed_delivery_required;return this.sendEvent({handler:s.BOTX,method:t,params:n,files:a,timeout:r,guaranteed_delivery_required:c})}},{key:"sendClientEvent",value:function(e){var t=e.method,n=e.params,a=e.timeout;return this.sendEvent({handler:s.EXPRESS,method:t,params:n,timeout:a})}},{key:"enableLogs",value:function(){this.logsEnabled=!0}},{key:"disableLogs",value:function(){this.logsEnabled=!1}},{key:"enableRenameParams",value:function(){this.isRenameParamsEnabled=!0,console.log("Bridge ~ Enabled renaming event params from camelCase to snake_case and vice versa")}},{key:"disableRenameParams",value:function(){this.isRenameParamsEnabled=!1,console.log("Bridge ~ Disabled renaming event params from camelCase to snake_case and vice versa")}}]),e}(),ce=function(){function e(){var t=this;Object(w.a)(this,e),this.eventEmitter=void 0,this.hasCommunicationObject=void 0,this.logsEnabled=void 0,this.isRenameParamsEnabled=void 0,this.hasCommunicationObject=window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.express&&!!window.webkit.messageHandlers.express.postMessage,this.eventEmitter=new ae,this.logsEnabled=!1,this.isRenameParamsEnabled=!0,this.hasCommunicationObject?window.handleIosEvent=function(e){var n=e.ref,a=e.data,s=e.files;t.logsEnabled&&console.log("Bridge ~ Incoming event",JSON.stringify({ref:n,data:a,files:s},null,2));var c=a.type,i=Object(z.a)(a,["type"]),o=n||r.RECEIVE,u=t.isRenameParamsEnabled?null===s||void 0===s?void 0:s.map((function(e){return Z(e)})):s,d={ref:n,type:c,payload:t.isRenameParamsEnabled?Z(i):i,files:u};t.eventEmitter.emit(o,d)}:re('No method "express.postMessage", cannot send message to iOS')}return Object(W.a)(e,[{key:"onReceive",value:function(e){this.eventEmitter.on(r.RECEIVE,e)}},{key:"sendEvent",value:function(e){var t=e.handler,n=e.method,a=e.params,r=e.files,s=e.timeout,c=void 0===s?B:s,i=e.guaranteed_delivery_required,o=void 0!==i&&i;if(!this.hasCommunicationObject)return Promise.reject();var u=Object(K.a)(),d={ref:u,type:D,method:n,handler:t,payload:this.isRenameParamsEnabled?$(a):a,guaranteed_delivery_required:o},l=this.isRenameParamsEnabled?null===r||void 0===r?void 0:r.map((function(e){return $(e)})):r,j=r?Object(G.a)(Object(G.a)({},d),{},{files:l}):d;return this.logsEnabled&&console.log("Bridge ~ Outgoing event",JSON.stringify(j,null,"  ")),window.webkit.messageHandlers.express.postMessage(j),this.eventEmitter.onceWithTimeout(u,c)}},{key:"sendBotEvent",value:function(e){var t=e.method,n=e.params,a=e.files,r=e.timeout,c=void 0===r?B:r,i=e.guaranteed_delivery_required;return this.sendEvent({handler:s.BOTX,method:t,params:n,files:a,timeout:c,guaranteed_delivery_required:i})}},{key:"sendClientEvent",value:function(e){var t=e.method,n=e.params,a=e.timeout,r=void 0===a?B:a;return this.sendEvent({handler:s.EXPRESS,method:t,params:n,timeout:r})}},{key:"enableLogs",value:function(){this.logsEnabled=!0}},{key:"disableLogs",value:function(){this.logsEnabled=!1}},{key:"enableRenameParams",value:function(){this.isRenameParamsEnabled=!0,console.log("Bridge ~ Enabled renaming event params from camelCase to snake_case and vice versa")}},{key:"disableRenameParams",value:function(){this.isRenameParamsEnabled=!1,console.log("Bridge ~ Disabled renaming event params from camelCase to snake_case and vice versa")}}]),e}(),ie=function(){function e(){Object(w.a)(this,e),this.eventEmitter=void 0,this.logsEnabled=void 0,this.isRenameParamsEnabled=void 0,this.eventEmitter=new ae,this.addGlobalListener(),this.logsEnabled=!1,this.isRenameParamsEnabled=!0}return Object(W.a)(e,[{key:"addGlobalListener",value:function(){var e=this;window.addEventListener("message",(function(t){if("object"===typeof t.data&&"object"===typeof t.data.data&&"string"===typeof t.data.data.type){e.logsEnabled&&console.log("Bridge ~ Incoming event",t.data);var n=t.data,a=n.ref,s=n.data,c=s.type,i=Object(z.a)(s,["type"]),o=n.files,u=a||r.RECEIVE,d=e.isRenameParamsEnabled?null===o||void 0===o?void 0:o.map((function(e){return Z(e)})):o;e.eventEmitter.emit(u,{ref:a,type:c,payload:e.isRenameParamsEnabled?Z(i):i,files:d})}}))}},{key:"onReceive",value:function(e){this.eventEmitter.on(r.RECEIVE,e)}},{key:"sendEvent",value:function(e){var t=e.handler,n=e.method,a=e.params,r=e.files,s=e.timeout,c=void 0===s?B:s,i=e.guaranteed_delivery_required,o=void 0!==i&&i,u=Object(K.a)(),d={ref:u,type:D,method:n,handler:t,payload:this.isRenameParamsEnabled?$(a):a,guaranteed_delivery_required:o},l=this.isRenameParamsEnabled?null===r||void 0===r?void 0:r.map((function(e){return $(e)})):r,j=r?Object(G.a)(Object(G.a)({},d),{},{files:l}):d;return this.logsEnabled&&console.log("Bridge ~ Outgoing event",j),window.parent.postMessage({type:"smartapp",payload:j},"*"),this.eventEmitter.onceWithTimeout(u,c)}},{key:"sendBotEvent",value:function(e){var t=e.method,n=e.params,a=e.files,r=e.timeout,c=e.guaranteed_delivery_required;return this.sendEvent({handler:s.BOTX,method:t,params:n,files:a,timeout:r,guaranteed_delivery_required:c})}},{key:"sendClientEvent",value:function(e){var t=e.method,n=e.params,a=e.timeout;return this.sendEvent({handler:s.EXPRESS,method:t,params:n,timeout:a})}},{key:"enableLogs",value:function(){this.logsEnabled=!0;var e=console.log;console.log=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];window.parent.postMessage({type:U,payload:n},"*"),e.apply(console,n)}}},{key:"disableLogs",value:function(){this.logsEnabled=!1}},{key:"enableRenameParams",value:function(){this.isRenameParamsEnabled=!0,console.log("Bridge ~ Enabled renaming event params from camelCase to snake_case and vice versa")}},{key:"disableRenameParams",value:function(){this.isRenameParamsEnabled=!1,console.log("Bridge ~ Disabled renaming event params from camelCase to snake_case and vice versa")}}]),e}(),oe=function(){var e=H();switch(console.log("Bridge ~ version","1.1.0"),e){case a.ANDROID:return new se;case a.IOS:return new ce;case a.WEB:return new ie;default:console.error("Wrong platform")}return null}(),ue="smart"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MEDIA_URL:"/api/api/data/storage/media/",REACT_APP_API_URL:"/api",REACT_APP_AUTH_URL:"/auth"}).REACT_APP_BUILD,de=function e(){var t=this;Object(w.a)(this,e),this.client=void 0,this.get=void 0,this.post=void 0,this.put=void 0,this.delete=void 0,this.getQueryParams=function(e){if(!e)return"";var t="?";for(var n in e)t+=e[n]?"".concat(n,"=").concat(e[n],"&"):"";return t=t.substring(0,t.length-1)},this.fetch=function(){var e=Object(v.a)(j.a.mark((function e(n,a,r){var s,c,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={params:(null===r||void 0===r?void 0:r.params)?r.params:r},o=null,e.prev=2,e.next=5,oe.sendBotEvent({method:"".concat(n," ").concat(t.client.defaults.baseURL).concat(a).concat("GET"===n&&(null===i||void 0===i?void 0:i.params)?t.getQueryParams(i.params):""),params:{token:localStorage.getItem("accessToken")||null,body:JSON.stringify(null===i||void 0===i?void 0:i.params)||null}});case 5:o=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("request is fail: ",e.t0);case 11:return e.abrupt("return",{data:(null===(s=o)||void 0===s||null===(c=s.payload)||void 0===c?void 0:c.data)||void 0});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),this.get=function(){var e=Object(v.a)(j.a.mark((function e(n,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch("GET",n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.post=function(){var e=Object(v.a)(j.a.mark((function e(n,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch("POST",n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.put=function(){var e=Object(v.a)(j.a.mark((function e(n,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch("PUT",n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.delete=function(){var e=Object(v.a)(j.a.mark((function e(n,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch("DELETE",n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.client={defaults:{baseURL:"/api"}}};if(ue)(_=new de).client.defaults.baseURL="/auth",(M=new de).client.defaults.baseURL="/api",(Q=new de).client.defaults.baseURL="/api";else{_=y.a.create({baseURL:"/auth"}),M=y.a.create({baseURL:"/api"});(Q=y.a.create({baseURL:"/api"})).interceptors.request.use((function(e){var t=localStorage.getItem("accessToken");return e.headers.Authorization="Bearer "+t,e}))}var le=function(){var e=Object(v.a)(j.a.mark((function e(t,n,a){var r,s,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new de,s=null,"string"!==typeof t){e.next=8;break}return e.next=5,r.get(t);case 5:s=e.sent,e.next=20;break;case 8:if("object"!==typeof t){e.next=20;break}if(c=!!t.method&&t.method.toLowerCase(),!t.method){e.next=16;break}return e.next=13,r[c](t.url,{params:t.params||t.body});case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,r.get(t.url,{params:t.params});case 18:e.t0=e.sent;case 19:s=e.t0;case 20:return e.abrupt("return",{data:s.data});case 21:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),je=Object(C.d)({baseUrl:"/api",prepareHeaders:function(e){var t=localStorage.getItem("accessToken");return e.set("Authorization","Bearer "+t),e}}),be=function(){var e=Object(v.a)(j.a.mark((function e(t,n,a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t,n,a);case 2:return(r=e.sent).error&&401===r.error.status&&pe(n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),pe=function(e){e.dispatch(q()),Es.push("/")},me=Object(k.a)({baseQuery:ue?le:be,endpoints:function(){return{}}}),he=n(117),Oe=n(169),fe=function(e){return e.authentication},xe=Object(Oe.a)(fe,(function(e){return e.login})),ve=Object(Oe.a)(fe,(function(e){return e.isSap})),we=function(){var e=Object(v.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/new/user/search",{params:{login:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(v.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/new/user/search/smart-card",{params:{smartCardCode:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(v.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/login",{login:t,password:n});case 2:if(!1!==(a=e.sent).data){e.next=5;break}throw new Error("Error");case 5:return Re(a.data.accessToken),e.abrupt("return",a.data.id);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(v.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/new/user/login/success",{params:{userId:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(v.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/new/user/login/fail",{params:{login:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(v.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/authenticate/sap",{withCredentials:!0});case 2:t=e.sent,Re(t.data.accessToken);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(v.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/authenticate/mtoro",{params:{token:t}});case 2:n=e.sent,Re(n.data.accessToken);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(v.a)(j.a.mark((function e(t,n,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post("/new/user/password/create",{login:t,password:n,passwordAccount:a});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(v.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(t),e.next=3,Q.get("/new/user/password/check",{params:{password:n}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(v.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/new/user/password/reset/code",{params:{login:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(v.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post("/new/user/password/reset",{login:t,resetCode:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(e){localStorage.setItem("accessToken",e)},Pe=function(){localStorage.removeItem("accessToken")},qe=function(e){return 1e3*function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}}(e).exp<Date.now()},Le=j.a.mark(Ke),Fe=j.a.mark(Ve),_e=j.a.mark(Xe),Me=j.a.mark(Je),Qe=j.a.mark(Ye),Be=j.a.mark(Ze),De=j.a.mark($e),Ue=j.a.mark(et),He=j.a.mark(tt),Ge=j.a.mark(nt),ze=j.a.mark(at),We=j.a.mark(rt);function Ke(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.f)(T.type,Ve);case 2:return e.next=4,Object(x.f)(E.type,Xe);case 4:return e.next=6,Object(x.f)(I.type,Ye);case 6:return e.next=8,Object(x.f)(N.type,et);case 8:return e.next=10,Object(x.f)(R.type,tt);case 10:return e.next=12,Object(x.f)(P.type,nt);case 12:return e.next=14,Object(x.f)(q.type,at);case 14:case"end":return e.stop()}}),Le)}function Ve(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(x.d)(L.setIsLoading(!0));case 2:return n.prev=2,n.next=5,Object(x.a)(we,e.payload);case 5:return t=n.sent,n.next=8,t.login?Object(x.c)(Je,t):Object(x.a)(rt);case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,Object(x.a)(rt);case 14:return n.prev=14,n.next=17,Object(x.d)(L.setIsLoading(!1));case 17:return n.finish(14);case 18:case"end":return n.stop()}}),Fe,null,[[2,10,14,18]])}function Xe(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(x.d)(L.setIsLoading(!0));case 2:return n.prev=2,n.next=5,Object(x.a)(ge,e.payload);case 5:return t=n.sent,n.next=8,t.login?Object(x.c)(Je,t):Object(x.a)(rt);case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,Object(x.a)(rt);case 14:return n.prev=14,n.next=17,Object(x.d)(L.setIsLoading(!1));case 17:return n.finish(14);case 18:case"end":return n.stop()}}),_e,null,[[2,10,14,18]])}function Je(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.d)(L.setUserSearchResult(e));case 2:return t.next=4,e.isNew?Object(x.d)(Object(he.d)("/password")):Object(x.d)(Object(he.d)("/login"));case 4:case"end":return t.stop()}}),Me)}function Ye(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(x.d)(L.setIsLoading(!0));case 2:return n.prev=2,n.next=5,Object(x.a)(ye,e.payload.login,e.payload.password);case 5:return t=n.sent,n.next=8,Object(x.c)(Ze,t);case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,Object(x.c)($e,e.payload.login);case 14:return n.prev=14,n.next=17,Object(x.d)(L.setIsLoading(!1));case 17:return n.finish(14);case 18:case"end":return n.stop()}}),Qe,null,[[2,10,14,18]])}function Ze(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.a)(Ce,e);case 2:return t.next=4,Object(x.d)(L.setAuthenticated());case 4:return t.next=6,Object(x.d)(Object(he.d)("/main"));case 6:case"end":return t.stop()}}),Be)}function $e(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(x.a)(rt);case 2:return n.next=4,Object(x.a)(ke,e);case 4:return t=n.sent,n.next=7,Object(x.d)(L.setAttemptsCount(t));case 7:case"end":return n.stop()}}),De)}function et(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(L.setIsLoading(!0));case 2:return e.prev=2,e.next=5,Object(x.a)(Ae);case 5:return e.next=7,Object(x.d)(L.setMobileUser());case 7:return e.next=9,Object(x.d)(L.setSap());case 9:return e.next=11,Object(x.d)(Object(he.d)("/themes"));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,Object(x.a)(rt);case 17:return e.prev=17,e.next=20,Object(x.d)(L.setIsLoading(!1));case 20:return e.finish(17);case 21:case"end":return e.stop()}}),Ue,null,[[2,13,17,21]])}function tt(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.d)(L.setIsLoading(!0));case 2:return t.prev=2,t.next=5,Object(x.a)(Se,e.payload);case 5:return t.next=7,Object(x.d)(L.setMobileUser());case 7:return t.next=9,Object(x.d)(Object(he.d)("/themes"));case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(2),t.next=15,Object(x.a)(rt);case 15:return t.prev=15,t.next=18,Object(x.d)(L.setIsLoading(!1));case 18:return t.finish(15);case 19:case"end":return t.stop()}}),He,null,[[2,11,15,19]])}function nt(e){var t,n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(x.d)(L.setIsLoading(!0));case 2:return a.prev=2,a.next=5,Object(x.e)(xe);case 5:return t=a.sent,a.next=8,Object(x.a)(Te,t,e.payload.password,e.payload.passwordAccount);case 8:return a.next=10,Object(x.b)(1e3);case 10:return a.next=12,Object(x.a)(ye,t,e.payload.password);case 12:return n=a.sent,a.next=15,Object(x.c)(Ze,n);case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(2),a.next=21,Object(x.a)(rt);case 21:return a.prev=21,a.next=24,Object(x.d)(L.setIsLoading(!1));case 24:return a.finish(21);case 25:case"end":return a.stop()}}),Ge,null,[[2,17,21,25]])}function at(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(Pe);case 2:return e.next=4,Object(x.d)(me.util.resetApiState());case 4:return e.next=6,Object(x.d)(L.resetState());case 6:case"end":return e.stop()}}),ze)}function rt(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(L.setHasError(!0));case 2:return e.next=4,Object(x.d)(L.clearError());case 4:case"end":return e.stop()}}),We)}var st,ct=n(72),it=n(1404),ot=n(2),ut=function(e){return Object(it.a)((function(){"sqp-public.severstal.com"===window.location.hostname&&(window.location.href="https://lk.severstal.com/")})),Object(ot.jsx)(ct.b,Object(G.a)({},e))},dt=function(e){return Object(it.a)((function(){console.log(window.location.hostname);var e=window.location.hostname;"sqp-test.severstal.severstalgroup.com"===e&&(window.location.href="https://sqp-admin-test.severstal.severstalgroup.com/admin/main"),"sqp-prod.severstal.severstalgroup.com"===e&&(window.location.href="https://sqp-admin.severstal.severstalgroup.com/admin/main")})),Object(ot.jsx)(ct.b,Object(G.a)({},e))},lt=n(688),jt=n.n(lt),bt=["mousemove","keypress","touchstart","click"],pt=function(e){var t=function(){var e=localStorage.getItem("accessToken");return e&&e.length>0&&!qe(e)}(),n=Object(ct.g)(),a=jt.a.debounce((function(){var e=Date.now()+3e5;sessionStorage.setItem("expireTime",e.toString())}),100);return Object(c.useEffect)((function(){return a(),bt.forEach((function(e){return document.addEventListener(e,a)})),function(){bt.forEach((function(e){return document.removeEventListener(e,a)}))}}),[]),Object(c.useEffect)((function(){var e=setInterval((function(){Number(sessionStorage.getItem("expireTime"))<Date.now()&&n.push("/")}),6e4);return function(){return clearInterval(e)}}),[]),t?Object(ot.jsx)(ct.b,Object(G.a)({},e)):Object(ot.jsx)(ct.a,{to:"/"})},mt=n(20),ht=(n(230),n(164)),Ot=n.n(ht),ft=n(99),xt=n(10),vt=n.n(xt),wt=(n(1063),function(e){var t=e.route,n=Object(z.a)(e,["route"]),a=vt()("custom-button",n.className),r=Object(ot.jsx)(Ot.a,Object(G.a)(Object(G.a)({type:"primary"},n),{},{className:a}));return t?gt(t,r):r}),gt=function(e,t){return Object(ot.jsx)(ft.a,{to:e,children:t})},yt=function(e){var t=Object(ct.g)(),n=function(e){var t=Object(c.useState)(!1),n=Object(mt.a)(t,2),a=n[0],r=n[1];return{openEnterPassword:function(){r(!0)},EnterPassword:Object(ot.jsx)(Cn,{isActive:a,onSuccess:e,onCancel:function(){r(!1)}})}}((function(){e.route&&t.push(e.route)})),a=n.openEnterPassword,r=n.EnterPassword;return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(wt,Object(G.a)(Object(G.a)({},e),{},{route:void 0,onClick:a})),r]})},Ct=Object(c.memo)(yt),kt=Object(d.d)((function(e){return{isMobileUser:e.authentication.isMobileUser}}))((function(e){return!e.isMobileUser&&e.children?Object(ot.jsx)("div",{children:e.children}):null})),At={submitLoginSap:N},St=Object(d.d)(null,At)((function(e){return Object(it.a)(e.submitLoginSap),null})),Tt={submitLoginMtoro:R},Et=Object(d.d)(null,Tt)((function(e){var t,n,a=Object(ct.h)().search,r=new URLSearchParams(a).get("token");return t=e.submitLoginMtoro,n=r,Object(c.useEffect)((function(){n&&t(n)}),[t,n]),null})),It={submitLogout:q},Nt=Object(d.d)(null,It)((function(e){return Object(it.a)(e.submitLogout),Object(ot.jsx)(ct.a,{to:"/"})})),Rt=(n(343),n(180)),Pt=n.n(Rt),qt=(n(344),n(77)),Lt=n.n(qt),Ft=n(1413),_t=n(220),Mt=n(1414),Qt=function(e,t){Object(c.useEffect)((function(){t&&e()}),[e,t])},Bt=n(690),Dt=n.n(Bt),Ut=(n(1117),n(464),n(391)),Ht=n.n(Ut),Gt=(n(1119),function(e,t){var n=vt()("custom-input",e.className);return Object(ot.jsx)(Ht.a,Object(G.a)(Object(G.a)({},e),{},{ref:t,className:n}))}),zt=Object(c.forwardRef)(Gt),Wt=function(e,t){var n=e.keyboard,a=Object(z.a)(e,["keyboard"]);return Object(ot.jsx)(zt,Object(G.a)(Object(G.a)({},a),{},{ref:t,onChange:function(e){n.current.setInput(e.target.value),a.onChange&&a.onChange(e)},onFocus:function(e){n.current.setInput(e.target.value),a.onFocus&&a.onFocus(e)}}))},Kt=Object(c.forwardRef)(Wt),Vt=function(e,t){var n=e.keyboard,a=Object(z.a)(e,["keyboard"]);return Object(ot.jsx)(Ht.a.TextArea,Object(G.a)(Object(G.a)({},a),{},{ref:t,onChange:function(e){n.current.setInput(e.target.value),a.onChange&&a.onChange(e)},onFocus:function(e){n.current.setInput(e.target.value),a.onFocus&&a.onFocus(e)}}))},Xt=Object(c.forwardRef)(Vt),Jt={layout:{default:["1 2 3 4 5 6 7 8 9 0 - {backspace}","\u0439 \u0446 \u0443 \u043a \u0435 \u043d \u0433 \u0448 \u0449 \u0437 \u0445 \u044a","\u0444 \u044b \u0432 \u0430 \u043f \u0440 \u043e \u043b \u0434 \u0436 \u044d","{shift} \u044f \u0447 \u0441 \u043c \u0438 \u0442 \u044c \u0431 \u044e .","{space}"],shift:['! " \u2116 ; % : ? * ( ) _ {backspace}',"\u0419 \u0426 \u0423 \u041a \u0415 \u041d \u0413 \u0428 \u0429 \u0417 \u0425 \u042a","\u0424 \u042b \u0412 \u0410 \u041f \u0420 \u041e \u041b \u0414 \u0416 \u042d","{shift} \u042f \u0427 \u0421 \u041c \u0418 \u0422 \u042c \u0411 \u042e ,","{space}"]},display:{"{backspace}":"\u2190","{shift}":"\u21e7","{space}":" "}},Yt={layout:{default:["1 2 3 4 5 6 7 8 9 0 - {backspace}","q w e r t y u i o p [ ]","a s d f g h j k l ; '","{shift} z x c v b n n m , . /","{space}"],shift:["! @ # $ % ^ & * ( ) _ {backspace}","Q W E R T Y U I O P { }",'A S D F G H J K L : "',"{shift} Z X C V B N M < > ?","{space}"]},display:{"{backspace}":"\u2190","{shift}":"\u21e7","{space}":" "}},Zt={layout:{default:["1 2 3","4 5 6","7 8 9",": 0 {bksp}"]},display:{"{bksp}":"\u2190"}},$t={layout:{default:["1 2 3","4 5 6","7 8 9",". 0 {bksp}"]},display:{"{bksp}":"\u2190"}},en={Container:function(e){var t=e.keyboard,n=e.onKeyboard,a=e.hidden,r=e.layout,s=e.layoutName,c=void 0===s?"default":s,i=e.baseClass,o=e.children;return Object(ot.jsxs)(ot.Fragment,{children:[o,Object(ot.jsx)("div",{className:a?"d-none":void 0,children:Object(ot.jsx)(Dt.a,{keyboardRef:function(e){t.current=e},layout:r.layout,baseClass:i,layoutName:c,display:r.display,onChange:n,onKeyPress:function(e){("{shift}"===e||"{lock}"===e)&&function(){var e="default"===t.current.options.layoutName?"shift":"default";t.current.setOptions({layoutName:e})}(),("{numbers}"===e||"{abc}"===e)&&function(){var e="numbers"===t.current.options.layoutName?"default":"numbers";t.current.setOptions({layoutName:e})}()}})})]})},Input:Kt,Textarea:Xt},tn={submitSearchUser:T,submitSearchUserBySmartCard:E},nn=Object(d.d)((function(e){return{hasError:e.authentication.hasError,isLoading:e.authentication.isLoading}}),tn)((function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(null),a=Lt.a.useForm(),r=Object(mt.a)(a,1)[0],s=function(n){var a=n.slice(1,-1);e.submitSearchUserBySmartCard(a),t.current.setInput(""),r.resetFields()};Qt(function(){var e=Object(v.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pt.a.warning({content:"\u041f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u043b\u043e\u0433\u0438\u043d\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u0432\u0435\u0441\u0442\u0438 \u0434\u0440\u0443\u0433\u043e\u0439.",duration:3});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.hasError);var i=function(){var e;!_t.isMobile&&(null===(e=n.current)||void 0===e||e.focus())};return Object(it.a)(i),Object(Ft.a)("click",i),Object(ot.jsx)(en.Container,{keyboard:t,layout:Zt,onKeyboard:function(e){r.setFieldsValue({login:e})},children:Object(ot.jsxs)(Lt.a,{form:r,initialValues:{login:""},onFinish:function(t){e.submitSearchUser(t.login.trim())},children:[Object(ot.jsx)(Lt.a.Item,{name:"login",children:Object(ot.jsx)(en.Input,{placeholder:"\u041b\u043e\u0433\u0438\u043d",ref:n,keyboard:t,onChange:function(e){var t=e.target.value;t.startsWith("(")&&t.endsWith(")")&&s(t)}})}),Object(ot.jsx)(Lt.a.Item,{children:Object(ot.jsxs)(wt,{htmlType:"submit",block:!0,loading:e.isLoading,children:[!e.isLoading&&Object(ot.jsx)(Mt.a,{}),Object(ot.jsx)("span",{children:"\u041d\u0430\u0439\u0442\u0438"})]})})]})})})),an=(n(69),n(24)),rn=n.n(an),sn=(n(103),n(40)),cn=n.n(sn),on=n(1415),un=n(1416),dn=n(1417),ln=(n(296),n(183)),jn=n.n(ln),bn=Object(d.d)((function(e){return{login:e.authentication.login}}))((function(e){var t=Object(ct.g)(),n=Object(c.useRef)(),a=Object(c.useState)(!1),r=Object(mt.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)(""),u=Object(mt.a)(o,2),d=u[0],l=u[1],b=function(){var t=Object(v.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie(e.login);case 2:if(!t.sent){t.next=7;break}i(!0),t.next=9;break;case 7:return t.next=9,h();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(v.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne(e.login,d);case 2:if(!t.sent){t.next=7;break}m(),t.next=9;break;case 7:return t.next=9,h();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){t.push("/password")},h=function(){var e=Object(v.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pt.a.error({content:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u043f\u0430\u0440\u043e\u043b\u044f. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.",duration:3});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(ot.jsx)("p",{children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u041f\u0418\u041d-\u043a\u043e\u0434? \u041d\u0430 \u0432\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0421\u041c\u0421 \u0441 \u043a\u043e\u0434\u043e\u043c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f."}),f=Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(en.Input,{placeholder:"\u041a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",value:d,onChange:function(e){l(e.target.value)},keyboard:n}),Object(ot.jsx)(en.Container,{layout:Zt,keyboard:n,onKeyboard:l,baseClass:"resetKeyboard"})]});return Object(ot.jsx)(jn.a,{title:"\u0421\u0431\u0440\u043e\u0441 \u041f\u0418\u041d-\u043a\u043e\u0434\u0430",okText:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",visible:e.isActive,onOk:function(){s?p():b()},onCancel:function(){i(!1),e.onCancel()},centered:!0,children:s?f:O})})),pn=function(){var e=Object(c.useState)(!1),t=Object(mt.a)(e,2),n=t[0],a=t[1];return{openResetPassword:function(){a(!0)},ResetPassword:Object(ot.jsx)(bn,{isActive:n,onCancel:function(){a(!1)}})}},mn=function(e){return Object(ot.jsx)(cn.a.Title,Object(G.a)({level:4},e))},hn={submitLogin:I},On=Object(d.d)((function(e){return{login:e.authentication.login,attemptsCount:e.authentication.attemptsCount,isBlocked:e.authentication.isBlocked,hasError:e.authentication.hasError,isLoading:e.authentication.isLoading}}),hn)((function(e){var t=Object(c.useRef)(),n=Lt.a.useForm(),a=Object(mt.a)(n,1)[0],r=pn(),s=r.openResetPassword,i=r.ResetPassword,o={login:e.login,password:""};return Qt(function(){var e=Object(v.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pt.a.warning({content:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u041f\u0418\u041d-\u043a\u043e\u0434. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.",duration:3});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.attemptsCount>1&&e.hasError),e.isBlocked?Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(mn,{className:"text-center",children:"\u0423\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430"}),Object(ot.jsx)(cn.a.Paragraph,{className:"text-center mb-1",children:"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0445 \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430. \u0414\u043b\u044f \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u0441\u0431\u0440\u043e\u0441\u044c\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0447\u0435\u0440\u0435\u0437 \u0421\u041c\u0421 \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u044f\u0432\u043a\u0443 \u0432 \u0418\u0422-\u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0435."}),Object(ot.jsxs)(wt,{onClick:s,block:!0,children:[Object(ot.jsx)(on.a,{}),Object(ot.jsx)("span",{children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u041f\u0418\u041d-\u043a\u043e\u0434"})]}),Object(ot.jsxs)(wt,{route:"/logout",block:!0,children:[Object(ot.jsx)(un.a,{}),Object(ot.jsx)("span",{children:"\u0412\u044b\u0445\u043e\u0434"})]})]}),i]}):Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(en.Container,{keyboard:t,layout:Zt,onKeyboard:function(e){a.setFieldsValue({password:e})},children:Object(ot.jsxs)(Lt.a,{form:a,initialValues:o,onFinish:function(t){e.submitLogin(t)},children:[Object(ot.jsx)(Lt.a.Item,{children:Object(ot.jsx)(mn,{className:"text-center",children:e.title})}),Object(ot.jsx)(Lt.a.Item,{name:"login",children:Object(ot.jsx)(zt,{placeholder:"\u041b\u043e\u0433\u0438\u043d",readOnly:!0})}),Object(ot.jsx)(Lt.a.Item,{name:"password",children:Object(ot.jsx)(en.Input,{type:"password",placeholder:"\u041f\u0418\u041d-\u043a\u043e\u0434",maxLength:4,keyboard:t})}),Object(ot.jsx)(Lt.a.Item,{children:Object(ot.jsxs)(cn.a.Paragraph,{type:"secondary",children:["\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438: ",e.attemptsCount]})}),Object(ot.jsx)(Lt.a.Item,{children:Object(ot.jsxs)(wt,{htmlType:"submit",block:!0,loading:e.isLoading,children:[!e.isLoading&&Object(ot.jsx)(dn.a,{}),Object(ot.jsx)("span",{children:"\u0412\u043e\u0439\u0442\u0438"})]})}),Object(ot.jsx)(Lt.a.Item,{children:Object(ot.jsxs)(wt,{onClick:s,block:!0,children:[Object(ot.jsx)(on.a,{}),Object(ot.jsx)("span",{children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u041f\u0418\u041d-\u043a\u043e\u0434"})]})}),Object(ot.jsx)(Lt.a.Item,{children:Object(ot.jsxs)(wt,{route:"/logout",block:!0,children:[Object(ot.jsx)(un.a,{}),Object(ot.jsx)("span",{children:"\u0412\u044b\u0445\u043e\u0434"})]})})]})}),i]})})),fn=n(1418),xn={submitCreatePassword:P},vn=Object(d.d)((function(e){return{login:e.authentication.login,isLoading:e.authentication.isLoading}}),xn)((function(e){var t=Lt.a.useForm(),n=Object(mt.a)(t,1)[0],a={password:Object(c.useRef)(),passwordAccount:Object(c.useRef)(),passwordAccountConfirm:Object(c.useRef)()},r=Object(c.useState)({password:!1,passwordAccount:!1,passwordAccountConfirm:!1}),s=Object(mt.a)(r,2),i=s[0],o=s[1],u=function(e){o(Object(b.a)({password:!1,passwordAccount:!1,passwordAccountConfirm:!1},e.target.id,!0))},d=function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldsValue({password:t}),e.next=3,n.validateFields(["password"]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldsValue({passwordAccount:t}),e.next=3,n.validateFields(["passwordAccount"]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldsValue({passwordAccountConfirm:t}),e.next=3,n.validateFields(["passwordAccountConfirm"]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m={password:{name:"password",hasFeedback:!0,rules:[{required:!0,len:4,message:"\u041f\u0418\u041d-\u043a\u043e\u0434 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c"}],extra:Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(cn.a.Paragraph,{type:"secondary",className:"mb-1",children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 4-\u0445 \u0437\u043d\u0430\u0447\u043d\u044b\u0439 \u041f\u0418\u041d-\u043a\u043e\u0434, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}),Object(ot.jsx)(en.Container,{hidden:!i.password,layout:Zt,keyboard:a.password,onKeyboard:d,baseClass:"passwordKeyboard"})]})},passwordAccount:{name:"passwordAccount",hasFeedback:!0,rules:[{required:!0,pattern:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,}$/,message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c"}],extra:Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(cn.a.Paragraph,{type:"secondary",className:"mb-1",children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u0446\u0438\u0444\u0440\u044b, \u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0438 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0435 \u0431\u0443\u043a\u0432\u044b \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430 (A-z), \u0434\u043b\u0438\u043d\u043e\u0439 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}),Object(ot.jsx)(en.Container,{hidden:!i.passwordAccount,layout:Yt,keyboard:a.passwordAccount,onKeyboard:l,baseClass:"passwordAccountKeyboard"})]})},passwordAccountConfirm:{name:"passwordAccountConfirm",hasFeedback:!0,rules:[{validator:function(e,t){var a=n.getFieldValue("passwordAccount");return t&&a===t?Promise.resolve():Promise.reject()},message:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}],extra:Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(cn.a.Paragraph,{type:"secondary",className:"mb-1",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c, \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u044b\u0448\u0435"}),Object(ot.jsx)(en.Container,{hidden:!i.passwordAccountConfirm,layout:Yt,keyboard:a.passwordAccountConfirm,onKeyboard:p,baseClass:"passwordAccountConfirmKeyboard"})]})}};return Object(ot.jsxs)(Lt.a,{form:n,initialValues:{password:"",passwordAccount:"",passwordAccountConfirm:""},onFinish:function(t){e.submitCreatePassword(t)},children:[Object(ot.jsx)(Lt.a.Item,{children:Object(ot.jsx)(mn,{className:"text-center",children:e.title})}),Object(ot.jsx)(Lt.a.Item,Object(G.a)(Object(G.a)({},m.password),{},{children:Object(ot.jsx)(en.Input,{type:"password",placeholder:"\u041f\u0418\u041d-\u043a\u043e\u0434",maxLength:4,onFocus:u,keyboard:a.password})})),Object(ot.jsx)(Lt.a.Item,Object(G.a)(Object(G.a)({},m.passwordAccount),{},{children:Object(ot.jsx)(en.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onFocus:u,keyboard:a.passwordAccount})})),Object(ot.jsx)(Lt.a.Item,Object(G.a)(Object(G.a)({},m.passwordAccountConfirm),{},{children:Object(ot.jsx)(en.Input,{type:"password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onFocus:u,keyboard:a.passwordAccountConfirm})})),Object(ot.jsx)(Lt.a.Item,{children:Object(ot.jsxs)(wt,{htmlType:"submit",block:!0,loading:e.isLoading,children:[!e.isLoading&&Object(ot.jsx)(fn.a,{}),Object(ot.jsx)("span",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0432\u043e\u0439\u0442\u0438"})]})}),Object(ot.jsx)(Lt.a.Item,{children:Object(ot.jsxs)(wt,{route:"/logout",block:!0,children:[Object(ot.jsx)(un.a,{}),Object(ot.jsx)("span",{children:"\u0412\u044b\u0445\u043e\u0434"})]})})]})})),wn=n(1419),gn=n(1420),yn=function(e){var t=Object(c.useRef)(),n=Object(c.useState)(""),a=Object(mt.a)(n,2),r=a[0],s=a[1],i=pn(),o=i.openResetPassword,u=i.ResetPassword,d=Object(c.useState)(!1),l=Object(mt.a)(d,2),b=l[0],p=l[1],m=function(t){t?e.onSuccess():h()},h=function(){var e=Object(v.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt.a.error({content:"\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u0432\u0435\u0441\u0442\u0438 \u0434\u0440\u0443\u0433\u043e\u0439.",duration:3});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(ot.jsxs)(rn.a,{align:"end",children:[Object(ot.jsx)(wt,{type:"default",onClick:function(){e.onCancel(),o()},children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(ot.jsx)(wt,{onClick:function(){Ee(r).then(m)},children:"\u0412\u043e\u0439\u0442\u0438"})]}),f=Object(ot.jsx)(wt,{type:"text",size:"small",shape:"circle",className:"toggle-eye",onClick:function(){return p(!b)},icon:b?Object(ot.jsx)(wn.a,{}):Object(ot.jsx)(gn.a,{})});return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(jn.a,{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",visible:e.isActive,footer:O,onCancel:e.onCancel,centered:!0,children:Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(en.Input,{type:b?"text":"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:r,suffix:f,onChange:function(e){s(e.target.value)},keyboard:t}),Object(ot.jsx)(en.Container,{layout:Yt,keyboard:t,onKeyboard:s,baseClass:"enterPassword"})]})}),u]})},Cn=Object(c.memo)(yn),kn=function(e){return e.questionsCount>0},An=function(e,t){return function(e){var t,n="API-Version",a=localStorage.getItem(n)||"",r=(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.headers.get(n))||"";a!==r&&(localStorage.setItem(n,r),window.alert("\u0414\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"),window.location.reload())}(t),{themes:e,themesNotCompleted:e.filter(kn),isCompleted:0===e.filter(kn).length,isEmpty:0===e.length}},Sn=me.injectEndpoints({endpoints:function(e){return{getPrsekzThemes:e.query({query:function(){return"/new/theme/prsekz"},transformResponse:An}),getHeadThemes:e.query({query:function(){return"/new/theme/head"},transformResponse:An}),getComplexThemes:e.query({query:function(){return"/new/theme/complex"},transformResponse:An})}}}),Tn=Sn.useGetPrsekzThemesQuery,En=Sn.useGetHeadThemesQuery,In=Sn.useGetComplexThemesQuery,Nn={selectedTheme:void 0},Rn=Object(p.d)({name:"themes",initialState:Nn,reducers:{setSelectedTheme:function(e,t){e.selectedTheme=t.payload}}}),Pn=Object(Oe.a)((function(e){return e.themes}),(function(e){return e.selectedTheme})),qn=(n(136),n(81)),Ln=n.n(qn),Fn=function(e){return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(mn,{className:"text-center",children:e.title}),e.children]})},_n=(n(248),n(156)),Mn=n.n(_n),Qn=n(1421),Bn=(n(589),function(e){return Object(ot.jsxs)(Mn.a,{className:"theme-card",onClick:function(){e.onClick(e.theme)},children:[Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(cn.a.Paragraph,{strong:!0,children:e.theme.name}),Object(ot.jsx)(cn.a.Paragraph,{children:e.countText+e.theme.questionsCount})]}),Object(ot.jsx)(Qn.a,{className:"theme-card-icon"})]})}),Dn=me.injectEndpoints({endpoints:function(e){return{saveDeviceInfo:e.mutation({query:function(e){return{url:"/new/device-info/save",method:"POST",body:e}}})}}}).useSaveDeviceInfoMutation,Un={setSelectedTheme:Rn.actions.setSelectedTheme},Hn=Object(d.d)(null,Un)((function(e){var t,n,a,r,s,i,o,u,l,b,p,m,h,O,f,x=Object(ct.g)();!function(e){var t=Object(d.g)(ve),n=localStorage.getItem("API-Version")||"0.0.0";console.log("apiVersion"+n);var a={isSap:t,apiVersion:n,osName:_t.osName,osVersion:_t.osVersion,isDesktop:_t.isDesktop,browserName:_t.browserName,browserVersion:_t.browserVersion},r=Dn(),s=Object(mt.a)(r,1)[0],i=function(){var e=Object(v.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(a).unwrap();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){e.send&&i()}),[])}({send:!0});var w={refetchOnMountOrArgChange:!0},g=Tn(void 0,w),y=En(void 0,w),C=In(void 0,w),k=function(t){e.setSelectedTheme(t),x.push("/themes/"+t.id)};if(g.isLoading||y.isLoading||C.isLoading)return Object(ot.jsx)(Ln.a,{className:"w-100 text-center"});if((null===(t=g.data)||void 0===t?void 0:t.isEmpty)&&(null===(n=y.data)||void 0===n?void 0:n.isEmpty)&&(null===(a=C.data)||void 0===a?void 0:a.isEmpty))return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(mn,{className:"text-center",children:"\u041d\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(ot.jsx)(cn.a.Paragraph,{className:"text-center mb-1",children:"\u041d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0430 \u0432\u0430\u0441 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})]});if((null===(r=g.data)||void 0===r?void 0:r.isCompleted)&&(null===(s=y.data)||void 0===s?void 0:s.isCompleted)&&(null===(i=C.data)||void 0===i?void 0:i.isCompleted))return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(mn,{className:"text-center",children:"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u043e"}),Object(ot.jsx)(cn.a.Paragraph,{className:"text-center mb-1",children:"\u041d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"})]});var A=function(e){return Object(ot.jsx)(Bn,{theme:e,countText:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432: ",onClick:k},e.id)},S=null===(o=g.data)||void 0===o?void 0:o.themesNotCompleted.map(A),T=null===(u=y.data)||void 0===u?void 0:u.themesNotCompleted.map(A),E=null===(l=C.data)||void 0===l?void 0:l.themesNotCompleted.map((function(e){return Object(ot.jsx)(Bn,{theme:e,countText:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a: ",onClick:k},e.id)}));return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[!(null===(b=g.data)||void 0===b?void 0:b.isEmpty)&&!(null===(p=g.data)||void 0===p?void 0:p.isCompleted)&&Object(ot.jsx)(Fn,{title:"\u041f\u0440\u0435\u0434\u0441\u043c\u0435\u043d\u043d\u043e\u0435",children:S}),!(null===(m=y.data)||void 0===m?void 0:m.isEmpty)&&!(null===(h=y.data)||void 0===h?void 0:h.isCompleted)&&Object(ot.jsx)(Fn,{title:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f\u043c",children:T}),!(null===(O=C.data)||void 0===O?void 0:O.isEmpty)&&!(null===(f=C.data)||void 0===f?void 0:f.isCompleted)&&Object(ot.jsx)(Fn,{title:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u043e\u0435",children:E})]})})),Gn=me.injectEndpoints({endpoints:function(e){return{getRating:e.query({query:function(e){return{url:"/new/rating",params:e}},transformResponse:function(e){return{rating:[{key:1,name:e.businessUnitName?e.businessUnitName:"\u0411\u0415",positionByMonth:e.monthPositionByBusinessUnit,positionByYear:e.yearPositionByBusinessUnit},{key:2,name:e.organizationName?e.organizationName:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",positionByMonth:e.monthPositionByOrganization,positionByYear:e.yearPositionByOrganization},{key:3,name:e.divisionName?e.divisionName:"\u0426\u0435\u0445",positionByMonth:e.monthPositionByDivision,positionByYear:e.yearPositionByDivision}]}}})}}}),zn=Gn.useGetRatingQuery,Wn=(n(298),n(184)),Kn=n.n(Wn),Vn=(n(354),n(168)),Xn=n.n(Vn),Jn=[{title:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u041c\u0435\u0441\u044f\u0446",dataIndex:"positionByMonth",key:"positionByMonth",render:function(e){return e||"-"}},{title:"\u0413\u043e\u0434",dataIndex:"positionByYear",key:"positionByYear",render:function(e){return e||"-"}}],Yn=function(){var e,t=Object(d.g)(Pn),n=zn({themeId:t.id},{skip:!t});if(!t)return Object(ot.jsx)(ct.a,{to:"/themes"});var a=function(){var e=new Date(Date.now()-864e5),t=e.getFullYear(),n=e.getMonth();return new Date(t,n,1).toLocaleDateString()+" - "+e.toLocaleDateString()}();return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(mn,{className:"text-center mb-1",children:t.name}),Object(ot.jsx)(cn.a.Paragraph,{className:"text-center",strong:!0,children:a}),Object(ot.jsx)(Xn.a,{children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),Object(ot.jsx)(Kn.a,{columns:Jn,dataSource:null===(e=n.data)||void 0===e?void 0:e.rating,loading:n.isLoading,pagination:!1})]})},Zn=Object(c.memo)(Yn),$n=me.injectEndpoints({endpoints:function(e){return{getSimpleTest:e.query({query:function(e){return{url:"/new/test/simple",params:e}}}),saveSimpleTest:e.mutation({query:function(e){return{url:"/new/test/simple/save",method:"POST",body:e}}})}}}),ea=$n.useGetSimpleTestQuery,ta=$n.useLazyGetSimpleTestQuery,na=$n.useSaveSimpleTestMutation,aa=function(e,t,n){var a=e.indexOf(n);e.length>t.length?e[e.length-1]=n:a>-1?(e.splice(a,1),t.splice(a,1)):e.push(n)},ra=Object(p.d)({name:"answers",initialState:{selectedAnswers:[],selectedSecondAnswers:[],isLinks:!1,textAnswer:""},reducers:{singleSelect:function(e,t){e.selectedAnswers=[t.payload]},multipleSelect:function(e,t){var n=e.selectedAnswers,a=t.payload,r=n.indexOf(a);r>-1?n.splice(r,1):n.push(a)},updateIsLinks:function(e,t){e.isLinks=t.payload},linkSelect:function(e,t){aa(e.selectedAnswers,e.selectedSecondAnswers,t.payload)},linkSecondSelect:function(e,t){aa(e.selectedSecondAnswers,e.selectedAnswers,t.payload)},textAnswerChange:function(e,t){e.textAnswer=t.payload},resetAnswers:function(e){e.selectedAnswers=[],e.selectedSecondAnswers=[],e.isLinks=!1,e.textAnswer=""}}}),sa=Object(Oe.a)((function(e){return e.answers}),(function(e){return(!!e.selectedAnswers.length||!!e.textAnswer.length)&&!e.isLinks})),ca=function(e){var t=e.answers.map((function(t){return Object(ot.jsx)(e.renderComponent,{answer:t},t.id)}));return Object(ot.jsx)(rn.a,{direction:"vertical",className:"w-100",children:t})},ia=(n(176),n(100)),oa=n.n(ia),ua=(n(297),n(118)),da=n.n(ua),la=n(416),ja=n(1422),ba=function(e){return Object(la.a)(e).map((function(e,t){return Object(G.a)(Object(G.a)({},e),{},{key:t})}))},pa=(n(1343),{updateIsLinks:ra.actions.updateIsLinks}),ma=Object(d.d)((function(e){return{selectedAnswers:e.answers.selectedAnswers,selectedSecondAnswers:e.answers.selectedSecondAnswers}}),pa)((function(e){var t=function(t){return Object(ot.jsx)(e.renderAnswer,{answer:t},t.value)},n=function(t){return Object(ot.jsx)(e.renderSecondAnswer,{answer:t},t.secondValue)},a=Object(c.useMemo)((function(){return function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*t),a=e[t];e[t]=e[n],e[n]=a}return e}(Object(la.a)(e.answers))}),[e.answers]),r=Object(c.useState)([]),s=Object(mt.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)([]),d=Object(mt.a)(u,2),l=d[0],j=d[1],b=Object(c.useState)([]),p=Object(mt.a)(b,2),m=p[0],h=p[1],O=Object(c.useState)([]),f=Object(mt.a)(O,2),x=f[0],v=f[1],w=Object(c.useState)(""),g=Object(mt.a)(w,2),y=g[0],C=g[1],k=function(t){return e.answers.find((function(e){return e.id===t}))};return Object(c.useEffect)((function(){o(e.answers.map(t)),j(a.map(n))}),[e.answers]),Object(c.useEffect)((function(){e.selectedAnswers.length===e.selectedSecondAnswers.length?(h(e.selectedAnswers.map(k)),v(e.selectedSecondAnswers.map(k)),o(e.answers.filter((function(t){return!e.selectedAnswers.includes(t.id)})).map(t)),j(a.filter((function(t){return!e.selectedSecondAnswers.includes(t.id)})).map(n)),C(""),e.updateIsLinks(e.selectedAnswers.length!==e.answers.length&&m.length<e.answers.length)):C("disabled opacity-50")}),[e.selectedAnswers,e.selectedSecondAnswers]),Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(oa.a,{children:[Object(ot.jsx)(da.a,{span:11,children:Object(ot.jsx)(rn.a,{direction:"vertical",className:"w-100",children:i})}),Object(ot.jsx)(da.a,{span:2}),Object(ot.jsx)(da.a,{span:11,children:Object(ot.jsx)(rn.a,{direction:"vertical",className:"w-100",children:l})})]}),Object(ot.jsx)("div",{className:"linked-answers",children:m.map((function(e,a){return Object(ot.jsxs)(oa.a,{className:y,children:[Object(ot.jsx)(da.a,{span:11,children:t(e)}),Object(ot.jsx)(da.a,{span:2,className:"text-center",children:Object(ot.jsx)(ja.a,{className:"link-icon"})}),Object(ot.jsx)(da.a,{span:11,children:n(x[a])})]},e.id)}))})]})})),ha=(n(612),n(396)),Oa=n.n(ha),fa=(n(1345),n(1423)),xa=n(1424),va=function(e){var t=vt()("answer",{"answer-selected":e.selected,"answer-multiple":e.isMultiple,"answer-by-number":void 0!==e.badge});return Object(ot.jsxs)(Mn.a,{className:t,onClick:function(){e.onSelect(e.id)},children:[Boolean(e.badge)&&Object(ot.jsx)(Oa.a,{className:"answer-number",count:e.badge}),e.isMultiple&&(e.selected?Object(ot.jsx)(fa.a,{}):Object(ot.jsx)(xa.a,{})),Object(ot.jsx)(cn.a.Paragraph,{className:"w-100",children:e.content})]})},wa=n(1425),ga=n(1426),ya=function(e,t,n){var a=Object(c.useState)(!1),r=Object(mt.a)(a,2),s=r[0],i=r[1],o=function(){i(!1)};return{showModal:function(){i(!0)},hideModal:o,Modal:u.a.createPortal(Object(ot.jsx)(jn.a,Object(G.a)(Object(G.a)({visible:s,onOk:o,onCancel:o},n),{},{children:e?Object(ot.jsx)(e,Object(G.a)({},t)):null})),document.body)}},Ca=function(e){var t={title:Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100 text-center",children:[Object(ot.jsx)("small",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0437\u0443\u0447\u0438\u0442\u0435 \u043c\u0435\u0434\u0438\u0430-\u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0438 \u043e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441"}),e.question]}),centered:!0,footer:Object(ot.jsxs)(oa.a,{justify:"center",gutter:[0,20],children:[Object(ot.jsx)(cn.a.Paragraph,{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0435\u0433\u043e \u0432\u043e \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d"}),Object(ot.jsx)(wt,{icon:Object(ot.jsx)(wa.a,{}),onClick:function(){return s()},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430\u043c \u043e\u0442\u0432\u0435\u0442\u043e\u0432"})]})},n=Ea(e.mediaType),a=ya(n,{src:e.src},t),r=a.showModal,s=a.hideModal,i=a.Modal;return Object(c.useEffect)((function(){r()}),[]),Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(wt,{icon:Object(ot.jsx)(ga.a,{}),onClick:r,className:e.className,children:"\u041c\u0435\u0434\u0438\u0430-\u0432\u043e\u043f\u0440\u043e\u0441"}),i]})},ka=(n(614),n(481),function(e){var t=e.src;return Object(ot.jsx)("audio",{controls:!0,className:"w-100",children:Object(ot.jsx)("source",{src:t})})}),Aa=function(e){var t=e.src;return Object(ot.jsx)(ot.Fragment,{children:Object(ot.jsx)("video",{className:"media",src:t})})},Sa=n(691),Ta=(n(1358),function(e){var t=e.src,n=Object(c.useState)(!1),a=Object(mt.a)(n,2),r=a[0],s=a[1];return Object(ot.jsxs)("div",{onClick:function(e){e.stopPropagation()},className:"image-media-content",children:[Object(ot.jsx)("img",{src:t,className:"media",alt:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f...",onClick:function(){return s(!0)}}),r&&Object(ot.jsx)(Sa.a,{mainSrc:t,onCloseRequest:function(){return s(!1)}})]})}),Ea=function(e){return e?{image:Ta,audio:ka,video:Aa}[e]:null},Ia={singleSelect:ra.actions.singleSelect},Na=Object(d.d)((function(e){return{selectedAnswers:e.answers.selectedAnswers}}),Ia)((function(e){var t=e.selectedAnswers.includes(e.answer.id),n="".concat("/api/api/data/storage/media/").concat(e.answer.mediaFilename),a=Ea(e.answer.mediaType),r=a?Object(ot.jsx)(a,{src:n}):e.answer.value;return Object(ot.jsx)(va,{id:e.answer.id,content:r,selected:t,onSelect:e.singleSelect})})),Ra={multipleSelect:ra.actions.multipleSelect},Pa=Object(d.d)((function(e){return{selectedAnswers:e.answers.selectedAnswers}}),Ra)((function(e){var t=e.selectedAnswers.includes(e.answer.id),n="".concat("/api/api/data/storage/media/").concat(e.answer.mediaFilename),a=Ea(e.answer.mediaType),r=a?Object(ot.jsx)(a,{src:n}):e.answer.value;return Object(ot.jsx)(va,{id:e.answer.id,content:r,selected:t,onSelect:e.multipleSelect,isMultiple:!0})})),qa={multipleSelect:ra.actions.multipleSelect},La=Object(d.d)((function(e){return{selectedAnswers:e.answers.selectedAnswers}}),qa)((function(e){var t=e.selectedAnswers.includes(e.answer.id),n=e.selectedAnswers.indexOf(e.answer.id)+1;return Object(ot.jsx)(va,{id:e.answer.id,content:e.answer.value,selected:t,onSelect:e.multipleSelect,badge:n})})),Fa=function(e){var t=Object(c.useRef)(),n=Object(c.useState)(""),a=Object(mt.a)(n,2),r=a[0],s=a[1],i=function(t){s(t),e.onChange(t)};return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(en.Input,{placeholder:"\u041e\u0442\u0432\u0435\u0442",value:r,keyboard:t,onChange:function(e){i(e.target.value)}}),Object(ot.jsx)(en.Container,{keyboard:t,layout:$t,onKeyboard:i})]})},_a={textAnswerChange:ra.actions.textAnswerChange},Ma=Object(d.d)(null,_a)((function(e){return Object(ot.jsx)(Fa,{onChange:e.textAnswerChange})})),Qa={linkSelect:ra.actions.linkSelect},Ba=Object(d.d)((function(e){return{selectedAnswers:e.answers.selectedAnswers}}),Qa)((function(e){var t=e.selectedAnswers.includes(e.answer.id);return Object(ot.jsx)(va,{id:e.answer.id,content:e.answer.value,selected:t,onSelect:e.linkSelect})})),Da={linkSecondSelect:ra.actions.linkSecondSelect},Ua=Object(d.d)((function(e){return{selectedSecondAnswers:e.answers.selectedSecondAnswers}}),Da)((function(e){var t=e.selectedSecondAnswers.includes(e.answer.id);return Object(ot.jsx)(va,{id:e.answer.id,content:e.answer.secondValue,selected:t,onSelect:e.linkSecondSelect})})),Ha=function(e){return{TF:Object(ot.jsx)(ca,{answers:e.answers,renderComponent:Na}),MC:Object(ot.jsx)(ca,{answers:e.answers,renderComponent:Na}),MR:Object(ot.jsx)(ca,{answers:e.answers,renderComponent:Pa}),SEQ:Object(ot.jsx)(ca,{answers:e.answers,renderComponent:La}),NUMG:Object(ot.jsx)(Ma,{}),IMGMR:Object(ot.jsx)(ca,{answers:e.answers,renderComponent:Pa}),IMGMC:Object(ot.jsx)(ca,{answers:e.answers,renderComponent:Na}),LINK:Object(ot.jsx)(ma,{answers:e.answers,renderAnswer:Ba,renderSecondAnswer:Ua})}[e.questionType]},Ga=Object(c.memo)(Ha),za={TF:{questionHelpText:'\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"',hintsTitle:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"},MC:{questionHelpText:'\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"',hintsTitle:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"},MR:{questionHelpText:'\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"',hintsTitle:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0442\u044b:"},SEQ:{questionHelpText:'\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u044b \u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"',hintsTitle:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0440\u044f\u0434\u043e\u043a:"},IMGMR:{questionHelpText:'\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"',hintsTitle:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0442\u044b:"},IMGMC:{questionHelpText:'\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"',hintsTitle:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"},LINK:{questionHelpText:'\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0435 \u043f\u0430\u0440\u044b \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"',hintsTitle:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"},NUMG:{questionHelpText:'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"',hintsTitle:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"}},Wa=function(e){return za[e].questionHelpText},Ka=n(1427),Va=n(1428),Xa=function(e){return e.condition?e.children:null},Ja=function(e){return Object(ot.jsx)(rn.a,{direction:"vertical",size:"large",className:"w-100",children:e.children})},Ya={Container:function(e){return Object(ot.jsx)(oa.a,{align:"middle",justify:"space-around",children:e.children})},Counter:function(e){return Object(ot.jsxs)(mn,{className:"m-0",children:[e.current," \u0438\u0437 ",e.total]})}},Za=function(e){return Object(ot.jsxs)(rn.a,{direction:"vertical",size:"large",className:"w-100",children:[Object(ot.jsx)(Xn.a,{className:"m-0"}),Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(mn,{children:e.text}),Object(ot.jsx)(cn.a.Paragraph,{children:e.description})]}),Object(ot.jsx)(Xn.a,{className:"m-0"})]})},$a=function(e){return Object(ot.jsx)(oa.a,{justify:"center",children:Object(ot.jsx)(Ca,{mediaType:e.mediaType,src:e.mediaSrc,question:e.text})})},er={Container:function(e){return Object(ot.jsx)(rn.a,{direction:"vertical",className:"w-100",children:e.children})},ConfirmButton:function(e){return Object(ot.jsxs)(wt,{onClick:e.onConfirm,disabled:!e.enabled,block:!0,children:[Object(ot.jsx)(Ka.a,{}),Object(ot.jsx)("span",{children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})},SkipButton:function(e){return Object(ot.jsx)(Xa,{condition:e.enabled,children:Object(ot.jsxs)(wt,{onClick:e.onSkip,block:!0,children:[Object(ot.jsx)(Va.a,{}),Object(ot.jsx)("span",{children:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c"})]})})}},tr={value:void 0,isRunning:!1,isFinished:!1},nr=Object(p.d)({name:"timer",initialState:tr,reducers:{startTimer:function(e,t){e.value=t.payload,e.isRunning=!0},updateTimer:function(e){e.value&&e.value>0?e.value-=1:(e.isFinished=!0,e.isRunning=!1)},resetTimer:function(){return tr}}}),ar=n(1405),rr=n(1406),sr=function(e){var t=function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return(t<10?"0":"")+t+":"+(n<10?"0":"")+n}(e.value);return Object(ot.jsx)(mn,{className:"text-center",children:t})},cr=Object(G.a)({},nr.actions),ir=Object(d.d)((function(e){return Object(G.a)({},e.timer)}),cr)((function(e){return Object(it.a)((function(){e.startTimer(e.from)})),Object(ar.a)(e.resetTimer),Qt((function(){e.resetTimer(),e.onFinish()}),e.isFinished),Object(rr.a)(e.updateTimer,1e3,e.isRunning&&!e.isFinished),Object(ot.jsx)(sr,{value:e.value||0})})),or=function(e){var t=Object(d.g)(Pn),n=Object(d.g)(sa),a=ea({themeId:t.id},{skip:!t});if(!a.data)return Object(ot.jsx)(Ln.a,{className:"w-100 text-center"});var r=a.data.question.text,s=a.data.question.typeQuestionArticle,c=Wa(s),i=a.data.question.mediaType,o="/api/api/data/storage/media/"+a.data.question.mediaFilename,u=a.data.questionReadingTime;return Object(ot.jsxs)(Ja,{children:[Object(ot.jsx)(Ya.Container,{children:Object(ot.jsx)(ir,{from:90+u,onFinish:e.onAnswer})}),Object(ot.jsx)(Za,{text:r,description:c}),i&&o&&Object(ot.jsx)($a,{mediaType:i,mediaSrc:o,text:r}),Object(ot.jsx)(Ga,{answers:a.data.question.answers,questionType:s}),Object(ot.jsx)(er.Container,{children:Object(ot.jsx)(er.ConfirmButton,{onConfirm:e.onAnswer,enabled:n})})]})},ur=Object(c.memo)(or),dr=(n(1359),n(397)),lr=n.n(dr),jr=n(1429),br=n(1430),pr=n(1407),mr=(n(1361),function(e){var t={className:"icon-large"};return e.icon?Object(c.cloneElement)(e.icon,t):Object(ot.jsx)(pr.a,Object(G.a)({component:e.component},t))}),hr=n(1433),Or=n(1434),fr=n(1431),xr=function(){return Object(ot.jsxs)(wt,{route:"/main",block:!0,children:[Object(ot.jsx)(fr.a,{}),Object(ot.jsx)("span",{children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})},vr=function(){return Object(ot.jsxs)(wt,{route:"/themes",block:!0,children:[Object(ot.jsx)(wa.a,{}),Object(ot.jsx)("span",{children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]})},wr=function(e){var t=e.normativeDocument,n={title:t.normativeHead,centered:!0,footer:Object(ot.jsx)(oa.a,{justify:"center",children:Object(ot.jsx)(wt,{onClick:function(){return s()},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})},a=ya((function(){return Object(ot.jsx)("p",{children:t.normativeText})}),{},n),r=a.showModal,s=a.hideModal,c=a.Modal;return t.normativeHead&&t.normativeText?Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(wt,{block:!0,onClick:r,children:[Object(ot.jsx)(wn.a,{}),Object(ot.jsx)("span",{children:"\u041d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442"})]}),c]}):null},gr=n(1432),yr=(n(233),n(137)),Cr=n.n(yr),kr=me.injectEndpoints({endpoints:function(e){return{getQuestionFeedbackCategories:e.query({query:function(){return"/new/test/feedback/categories"},transformResponse:function(e){return e.map((function(e){return{value:e.id,label:e.name}}))}}),saveQuestionFeedback:e.mutation({query:function(e){return{url:"/new/test/feedback/save",method:"POST",body:e}}})}}}),Ar=kr.useGetQuestionFeedbackCategoriesQuery,Sr=kr.useSaveQuestionFeedbackMutation,Tr=i.a.forwardRef((function(e,t){var n=Object(c.useRef)(),a=Lt.a.useForm(),r=Object(mt.a)(a,1)[0],s={feedbackTypeId:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0437\u0430\u043f\u0440\u043e\u0441\u0430"}],text:[{required:!0,whitespace:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}]},i=Ar(),o=i.data,u=i.isLoading,d=function(){return r.submit()};return Object(c.useImperativeHandle)(t,(function(){return{submit:d}})),Object(ot.jsx)(en.Container,{keyboard:n,layout:Jt,onKeyboard:function(e){r.setFieldsValue({text:e})},children:Object(ot.jsxs)(Lt.a,{form:r,onFinish:e.onSubmit,children:[Object(ot.jsx)(Lt.a.Item,{name:"feedbackTypeId",rules:s.feedbackTypeId,children:Object(ot.jsx)(Cr.a,{placeholder:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",options:o,loading:u})}),Object(ot.jsx)(Lt.a.Item,{name:"text",rules:s.text,children:Object(ot.jsx)(en.Textarea,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",keyboard:n,maxLength:255,allowClear:!0})})]})})})),Er=function(e){var t=e.questionId,n=Object(d.g)(Pn),a=Object(c.useRef)(null),r={title:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441",centered:!0,footer:Object(ot.jsxs)(rn.a,{children:[Object(ot.jsx)(wt,{type:"default",onClick:function(){return o()},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(ot.jsx)(wt,{onClick:function(){var e;return null===(e=a.current)||void 0===e?void 0:e.submit()},loading:m,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},s=ya((function(){return Object(ot.jsx)(Tr,{ref:a,onSubmit:A})}),{},r),i=s.showModal,o=s.hideModal,u=s.Modal,l=Sr(),b=Object(mt.a)(l,2),p=b[0],m=b[1].isLoading,h={title:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",centered:!0,footer:Object(ot.jsx)(rn.a,{direction:"vertical",className:"w-100 text-center",children:Object(ot.jsx)(wt,{onClick:function(){return x()},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})},O=ya((function(){return Object(ot.jsx)(Ir.Wrapper,{isCorrect:!0,successText:Object(ot.jsxs)("div",{children:["\u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d.",Object(ot.jsx)("br",{}),"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u0443\u044e \u0441\u0432\u044f\u0437\u044c!"]}),wrongText:""})}),{},h),f=O.showModal,x=O.hideModal,w=O.Modal,g=Object(c.useState)(!1),y=Object(mt.a)(g,2),C=y[0],k=y[1],A=function(){var e=Object(v.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(Object(G.a)(Object(G.a)({},n),{},{questionId:t})).unwrap();case 3:o(),f(),k(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return 2!==(null===n||void 0===n?void 0:n.id)?null:Object(ot.jsxs)(ot.Fragment,{children:[!C&&Object(ot.jsx)(wt,{block:!0,icon:Object(ot.jsx)(gr.a,{}),onClick:i,children:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441"}),u,w]})},Ir={Wrapper:function(e){var t=e.isCorrect?Object(ot.jsx)(jr.a,{twoToneColor:"#52c41a"}):Object(ot.jsx)(br.a,{twoToneColor:"#eb2f96"}),n=e.isCorrect?e.successText:e.wrongText;return Object(ot.jsxs)(rn.a,{direction:"vertical",size:"large",className:"w-100",children:[Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100 text-center",children:[Object(ot.jsx)(mr,{icon:t}),Object(ot.jsx)(mn,{children:n})]}),e.children]})},ComplexTest:function(e){return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100 text-center",children:[Object(ot.jsxs)(cn.a.Paragraph,{children:["\u0412\u0441\u0435\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432: ",e.totalQuestions]}),Object(ot.jsxs)(cn.a.Paragraph,{children:["\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",e.countRight]}),Object(ot.jsxs)(cn.a.Paragraph,{children:["\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",e.countFalse]}),Object(ot.jsxs)(cn.a.Paragraph,{children:["\u041d\u0430\u0431\u0440\u0430\u043d\u043e \u0431\u0430\u043b\u043b\u043e\u0432: ",e.points]}),Object(ot.jsxs)(cn.a.Paragraph,{children:["\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0448\u0438\u0431\u043e\u043a: ",e.falseQuantity]}),Object(ot.jsxs)(cn.a.Paragraph,{children:["\u041f\u0440\u043e\u0445\u043e\u0434\u043d\u043e\u0439 \u0431\u0430\u043b\u043b: ",e.passRate]})]})},AnnualTest:function(e){return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100 text-center",children:[Object(ot.jsxs)(cn.a.Paragraph,{children:["\u0412\u0441\u0435\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432: ",e.totalQuestions]}),Object(ot.jsxs)(cn.a.Paragraph,{children:["\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",e.countRight]}),Object(ot.jsxs)(cn.a.Paragraph,{children:["\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",e.countFalse]}),Object(ot.jsxs)(cn.a.Paragraph,{children:["\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0448\u0438\u0431\u043e\u043a: ",e.falseQuantity]})]})},Footer:{Completed:function(e){return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(Xa,{condition:e.isNextQuestion,children:Object(ot.jsxs)(wt,{onClick:e.onNextQuestion,block:!0,children:[Object(ot.jsx)(hr.a,{}),Object(ot.jsx)("span",{children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"})]})}),Object(ot.jsx)(Er,{questionId:e.questionId}),Object(ot.jsx)(wr,{normativeDocument:e.normativeDocument}),Object(ot.jsx)(Xa,{condition:e.isNextTheme,children:Object(ot.jsx)(vr,{})}),Object(ot.jsx)(xr,{})]})},Repeat:function(e){return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(wr,{normativeDocument:e.normativeDocument}),Object(ot.jsxs)(wt,{onClick:e.onRepeat,block:!0,children:[Object(ot.jsx)(Or.a,{}),Object(ot.jsx)("span",{children:"\u041f\u043e\u0432\u0442\u043e\u0440"})]})]})},RepeatWithoutDoc:function(e){return Object(ot.jsx)(rn.a,{direction:"vertical",className:"w-100",children:Object(ot.jsxs)(wt,{onClick:e.onRepeat,block:!0,children:[Object(ot.jsx)(Or.a,{}),Object(ot.jsx)("span",{children:"\u041f\u043e\u0432\u0442\u043e\u0440"})]})})}}},Nr=me.injectEndpoints({endpoints:function(e){return{getPoints:e.query({query:function(e){return{url:"/new/test/points",params:e}}})}}}),Rr=Nr.useLazyGetPointsQuery,Pr=function(e){var t,n,a=Rr(),r=Object(mt.a)(a,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){s({themeId:e.themeId})}),[s,e.themeId]),Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100 text-center",children:[Object(ot.jsxs)(cn.a.Paragraph,{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u043b\u043b\u043e\u0432 \u0437\u0430 \u0433\u043e\u0434: ",null===(t=i.data)||void 0===t?void 0:t.pointsByYear]}),Object(ot.jsxs)(cn.a.Paragraph,{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u043b\u043b\u043e\u0432 \u0437\u0430 \u043c\u0435\u0441\u044f\u0446: ",null===(n=i.data)||void 0===n?void 0:n.pointsByMonth]})]})},qr=Object(c.memo)(Pr),Lr=me.injectEndpoints({endpoints:function(e){return{getHints:e.query({query:function(e){return{url:"/new/test/hints",params:e}}})}}}),Fr=Lr.useGetHintsQuery;!function(e){e.IMAGE="image",e.VIDEO="video",e.AUDIO="audio"}(st||(st={}));var _r,Mr=function(e){var t,n,a=(n=e.questionType,za[n].hintsTitle),r=Fr({questionId:e.questionId}),s=Ea(st.IMAGE),c=null===(t=r.data)||void 0===t?void 0:t.hints.map((function(e,t){var n,a=/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e),c="/api/api/data/storage/media/"+e;return Object(ot.jsxs)(rn.a,{children:[(null===(n=r.data)||void 0===n?void 0:n.hints.length)&&r.data.hints.length>1?(t+1).toString()+") ":"",a&&s?Object(ot.jsx)("div",{style:{width:100,height:100},children:Object(ot.jsx)(s,{src:c})}):e]},t)}));return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100 text-center",children:[Object(ot.jsx)(cn.a.Paragraph,{strong:!0,children:a}),c]})},Qr=Object(c.memo)(Mr);!function(e){e.PRSEKZ_TEST="PRSEKZ_TEST",e.HEAD_TEST="HEAD_TEST",e.COMPLEX_TEST="COMPLEX_TEST"}(_r||(_r={}));var Br,Dr,Ur=function(e){var t=Object(d.g)(Pn),n=ea({themeId:t.id},{skip:!t});if(!t||!n.data)return Object(ot.jsx)(ct.a,{to:"/themes"});var a=n.data.question,r={normativeHead:a.normativeHead,normativeText:a.normativeText},s=e.themeType.type===_r.PRSEKZ_TEST,c=e.themeType.type===_r.HEAD_TEST;return Object(ot.jsxs)(Ir.Wrapper,{isCorrect:e.testCorrect,successText:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",wrongText:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",children:[Object(ot.jsx)(Xa,{condition:e.testCorrect,children:Object(ot.jsx)(qr,{themeId:t.id})}),Object(ot.jsx)(Xa,{condition:!e.testCorrect&&e.showRightAnswers,children:Object(ot.jsx)(Qr,{questionId:n.data.question.id,questionType:n.data.question.typeQuestionArticle})}),Object(ot.jsx)(Xa,{condition:e.testCompleted&&n.data.isMinQuestionsInDay,children:Object(ot.jsx)(lr.a,{type:"warning",message:"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0438\u043b\u0438 \u043d\u0430 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0434\u0435\u043d\u044c.",description:"\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043b\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c.",showIcon:!0,closable:!0})}),Object(ot.jsx)(Xa,{condition:n.data.isMonthQuestionsCompleted,children:Object(ot.jsx)(lr.a,{type:"success",message:"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0438\u043b\u0438 \u043d\u0430 \u0432\u0441\u0435 \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0432 \u044d\u0442\u043e\u043c \u043c\u0435\u0441\u044f\u0446\u0435!",description:n.data.debtQuestionsPreviousMonth>0?"\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u043e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u0441 \u043f\u0440\u043e\u0448\u043b\u043e\u0433\u043e \u043c\u0435\u0441\u044f\u0446\u0430: ".concat(n.data.debtQuestionsPreviousMonth):"\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f \u0441\u0432\u043e\u0438\u0445 \u0437\u043d\u0430\u043d\u0438\u0439 \u0438 \u043a\u043e\u043c\u043f\u0435\u0442\u0435\u043d\u0446\u0438\u0439, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0431\u0430\u043b\u043b\u044b \u043d\u0430\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u0441\u044f / \u0441\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u0431\u0443\u0434\u0443\u0442.",showIcon:!0,closable:!0})}),Object(ot.jsx)(Xa,{condition:e.testCompleted,children:Object(ot.jsx)(Ir.Footer.Completed,{isNextQuestion:e.nextQuestion,isNextTheme:e.nextTheme,onNextQuestion:e.onNextQuestion,normativeDocument:r,questionId:n.data.question.id})}),Object(ot.jsx)(Xa,{condition:!e.testCompleted&&s,children:Object(ot.jsx)(Ir.Footer.Repeat,{onRepeat:e.onRepeat,normativeDocument:r})}),Object(ot.jsx)(Xa,{condition:!e.testCompleted&&c,children:Object(ot.jsx)(Ir.Footer.RepeatWithoutDoc,{onRepeat:e.onRepeat})})]})},Hr=Object(c.memo)(Ur),Gr={resetAnswers:ra.actions.resetAnswers},zr=Object(d.d)((function(e){return{selectedTheme:e.themes.selectedTheme,selectedAnswers:e.answers.selectedAnswers,selectedSecondAnswers:e.answers.selectedSecondAnswers,textAnswer:e.answers.textAnswer}}),Gr)((function(e){var t=Object(c.useState)(!1),n=Object(mt.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){e.resetAnswers()}),[e.selectedTheme]);var s=ta(),i=Object(mt.a)(s,2),o=i[0],u=i[1],d=na(),l=Object(mt.a)(d,2),j=l[0],b=l[1],p=function(){e.resetAnswers(),e.selectedTheme&&o({themeId:e.selectedTheme.id})};if(Object(it.a)(p),!e.selectedTheme)return Object(ot.jsx)(ct.a,{to:"/themes"});if(u.isFetching||b.isLoading)return Object(ot.jsx)(Ln.a,{className:"w-100 text-center"});return a&&b.data?Object(ot.jsx)(Hr,Object(G.a)(Object(G.a)({},b.data),{},{themeType:e.selectedTheme.themeType,onRepeat:function(){e.resetAnswers(),r(!1)},onNextQuestion:function(){e.resetAnswers(),p(),r(!1)}})):Object(ot.jsx)(ur,{onAnswer:function(){e.resetAnswers();var t=u.data.testId,n=e.selectedAnswers,a=e.selectedSecondAnswers,s=e.textAnswer;j({testId:t,answers:n,secondAnswers:a,textAnswer:s}),r(!0)}})})),Wr=me.injectEndpoints({endpoints:function(e){return{createComplexTest:e.query({query:function(e){return{url:"/new/test/complex/create",params:e}}}),getComplexQuestion:e.query({query:function(e){return{url:"/new/test/complex/question",params:e}}}),saveComplexQuestion:e.mutation({query:function(e){return{url:"/new/test/complex/save",method:"POST",body:e}}}),skipComplexQuestion:e.mutation({query:function(e){return{url:"/new/test/complex/skip",method:"POST",body:e}}}),getComplexTestResult:e.query({query:function(e){return{url:"/new/test/complex/result",params:e}}})}}}),Kr=Wr.useLazyCreateComplexTestQuery,Vr=Wr.useGetComplexQuestionQuery,Xr=Wr.useSaveComplexQuestionMutation,Jr=Wr.useSkipComplexQuestionMutation,Yr=Wr.useGetComplexTestResultQuery,Zr=n(1408),$r=Object(d.d)((function(e){return{selectedAnswers:e.answers.selectedAnswers,selectedSecondAnswers:e.answers.selectedSecondAnswers,textAnswer:e.answers.textAnswer}}))((function(e){var t=Object(d.g)(sa),n=Vr({complexTestId:e.complexTestId}),a=Xr(),r=Object(mt.a)(a,1)[0],s=Jr(),c=Object(mt.a)(s,1)[0];if(!n.data)return Object(ot.jsx)(Ln.a,{className:"w-100 text-center"});var i=function(){var t=Object(v.a)(j.a.mark((function t(){var a,s,c,i,o,u;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null===(a=n.data)||void 0===a?void 0:a.testId,c=e.selectedAnswers,i=e.selectedSecondAnswers,o=e.textAnswer,u=e.complexTestId,t.next=7,r({complexTestId:u,testId:s,answers:c,secondAnswers:i,textAnswer:o});case 7:e.onAnswer(),e.onReset(),n.refetch();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(v.a)(j.a.mark((function t(){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null===(a=n.data)||void 0===a?void 0:a.testId,t.next=3,c({testId:r});case 3:e.onReset(),n.refetch();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=n.data.question.text,l=n.data.question.typeQuestionArticle,b=Wa(l),p=n.data.question.mediaType,m="/api/api/data/storage/media/"+n.data.question.mediaFilename,h=n.data.skippable,O=e.answeredCount+1;return Object(ot.jsxs)(Ja,{children:[Object(ot.jsxs)(Ya.Container,{children:[Object(ot.jsx)(ir,{from:60*e.time,onFinish:e.onTimeOver}),Object(ot.jsx)(Ya.Counter,{current:O,total:e.totalCount})]}),Object(ot.jsx)(Za,{text:u,description:b}),p&&m&&Object(ot.jsx)($a,{mediaType:p,mediaSrc:m,text:u}),Object(ot.jsx)(Ga,{answers:n.data.question.answers,questionType:l}),Object(ot.jsxs)(er.Container,{children:[Object(ot.jsx)(er.ConfirmButton,{onConfirm:i,enabled:t}),Object(ot.jsx)(er.SkipButton,{onSkip:o,enabled:h})]})]})})),es=function(e){var t=Yr({complexTestId:e.complexTestId});if(!t.data)return Object(ot.jsx)(Ln.a,{className:"w-100 text-center"});var n=t.data.countFalse<=e.falseQuantity&&t.data.points>=e.passRate;return Object(ot.jsxs)(Ir.Wrapper,{isCorrect:n,successText:"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0439\u0434\u0435\u043d",wrongText:"\u0422\u0435\u0441\u0442 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d",children:[Object(ot.jsx)(Ir.ComplexTest,{totalQuestions:e.totalQuestions,countRight:t.data.countRight,countFalse:t.data.countFalse,points:t.data.points,falseQuantity:e.falseQuantity,passRate:e.passRate}),Object(ot.jsx)(xr,{})]})},ts=Object(c.memo)(es),ns={resetAnswers:ra.actions.resetAnswers},as=Object(d.d)((function(e){return{selectedTheme:e.themes.selectedTheme,selectedAnswers:e.answers.selectedAnswers,textAnswer:e.answers.textAnswer}}),ns)((function(e){var t=Object(c.useState)(0),n=Object(mt.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),i=Object(mt.a)(s,2),o=i[0],u=i[1],d=Kr(),l=Object(mt.a)(d,2),j=l[0],b=l[1];Object(it.a)((function(){e.selectedTheme&&j({themeId:e.selectedTheme.id})})),Object(Zr.a)((function(){b.data&&a===b.data.questionsCount&&u(!0)}),[a]);return b.isLoading||!b.data?Object(ot.jsx)(Ln.a,{className:"w-100 text-center"}):o?Object(ot.jsx)(ts,{complexTestId:b.data.complexTestId,totalQuestions:b.data.questionsCount,falseQuantity:b.data.falseQuantity,passRate:b.data.passRate}):Object(ot.jsx)($r,{complexTestId:b.data.complexTestId,answeredCount:a,totalCount:b.data.questionsCount,time:b.data.time,onAnswer:function(){r(a+1)},onTimeOver:function(){u(!0)},onReset:function(){e.resetAnswers()}})})),rs=me.enhanceEndpoints({addTagTypes:["DEBRIEFINGS"]}).injectEndpoints({endpoints:function(e){return{getUserInfo:e.query({query:function(){return"/new/profile"}}),getAssignedThemes:e.query({query:function(){return"/new/theme/assigned"}}),getStatistic:e.query({query:function(e){return{url:"/new/profile/statistic",params:e}}}),getStatisticForUser:e.query({query:function(e){return{url:"/new/profile/head/statistic",params:e}}}),getAssignedThemesForUser:e.query({query:function(e){return{url:"/new/theme/assigned/user",params:e}}}),getSubordinatesForHead:e.query({query:function(){return"/new/profile/head/statistic/subordinates"}}),getCountAllMonthForStatisticHead:e.query({query:function(e){return{url:"/new/profile/head/statistic/months/count",params:e}}}),getStatisticForMonthHead:e.query({query:function(e){return{url:"/new/profile/head/statistic/month",params:e}}}),getAssignedDebriefings:e.query({query:function(){return"/new/profile/debriefing/assigned"},providesTags:["DEBRIEFINGS"]}),getAssignedDebriefingCount:e.query({query:function(){return"/new/profile/debriefing/assigned/count"},providesTags:["DEBRIEFINGS"]}),getDebriefingQuestions:e.query({query:function(e){return{url:"/new/profile/debriefing/pass",params:e}}}),getCountAllMonthForStatistic:e.query({query:function(e){return{url:"/new/profile/statistic/months/count",params:e}}}),getStatisticForMonth:e.query({query:function(e){return{url:"/new/profile/statistic/month",params:e}}}),saveAnswerForDebriefingQuestion:e.mutation({query:function(e){return{url:"/new/profile/debriefing/question/answer/save",method:"POST",params:e}},invalidatesTags:["DEBRIEFINGS"]})}}}),ss=rs.useGetUserInfoQuery,cs=rs.useGetAssignedThemesQuery,is=rs.useLazyGetStatisticQuery,os=rs.useLazyGetStatisticForUserQuery,us=rs.useGetAssignedThemesForUserQuery,ds=rs.useGetSubordinatesForHeadQuery,ls=rs.useGetCountAllMonthForStatisticHeadQuery,js=rs.useLazyGetStatisticForMonthHeadQuery,bs=rs.useGetAssignedDebriefingCountQuery,ps=rs.useGetAssignedDebriefingsQuery,ms=rs.useGetDebriefingQuestionsQuery,hs=rs.useGetCountAllMonthForStatisticQuery,Os=rs.useLazyGetStatisticForMonthQuery,fs=rs.useSaveAnswerForDebriefingQuestionMutation,xs=me.injectEndpoints({endpoints:function(e){return{getExpressDebriefingQuestion:e.query({query:function(){return"/new/debriefing/express"}})}}}),vs=xs.useGetExpressDebriefingQuestionQuery,ws=(xs.useLazyGetExpressDebriefingQuestionQuery,me.injectEndpoints({endpoints:function(e){return{getAnnualTestCompetitions:e.query({query:function(){return"/new/test/annual"}})}}})),gs=ws.useGetAnnualTestCompetitionsQuery,ys={selectedAnnualTheme:void 0},Cs=Object(p.d)({name:"annualThemes",initialState:ys,reducers:{setSelectedAnnualTheme:function(e,t){e.selectedAnnualTheme=t.payload}}}),ks=function(e){return Object(ot.jsxs)(Mn.a,{className:"theme-card",onClick:function(){e.onClick(e.annualTheme)},children:[Object(ot.jsx)(rn.a,{direction:"vertical",className:"w-100",children:Object(ot.jsx)(cn.a.Paragraph,{strong:!0,children:e.annualTheme.name})}),Object(ot.jsx)(Qn.a,{className:"theme-card-icon"})]})},As={setSelectedAnnualTheme:Cs.actions.setSelectedAnnualTheme},Ss=Object(d.d)(null,As)((function(e){var t,n,a=Object(ct.g)(),r=gs(void 0,{refetchOnMountOrArgChange:!0}),s=function(t){console.log("competition",t),jn.a.confirm({title:"\u0415\u0436\u0435\u0433\u043e\u0434\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u043d\u0430\u043d\u0438\u0439 \u043f\u043e \u041e\u0422",content:"\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c \u0412\u0430\u043c \u043f\u0440\u043e\u0439\u0442\u0438 \u0435\u0436\u0435\u0433\u043e\u0434\u043d\u0443\u044e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u0437\u043d\u0430\u043d\u0438\u0439 \u043f\u043e \u043e\u0445\u0440\u0430\u043d\u0435 \u0442\u0440\u0443\u0434\u0430 \u043f\u043e \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438/\u0432\u0438\u0434\u0443 \u0440\u0430\u0431\u043e\u0442 \xab".concat(t.name,"\xbb \u0438 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 ").concat(t.questionCount," \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0442\u0435\u0441\u0442\u0430. \u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0447\u0430\u043b\u0430 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u043d\u0435\u043b\u044c\u0437\u044f \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043e\u043a\u043d\u043e \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0430 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u0438\u043d\u0430\u0447\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e!"),okText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onOk:function(){e.setSelectedAnnualTheme(t),a.push("/annual/test")}})};if(r.isLoading)return Object(ot.jsx)(Ln.a,{className:"w-100 text-center"});if(0===(null===(t=r.data)||void 0===t?void 0:t.length))return Object(ot.jsx)(rn.a,{direction:"vertical",className:"w-100",children:Object(ot.jsx)(mn,{className:"text-center",children:"\u0415\u0436\u0435\u0433\u043e\u0434\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043e!"})});var c=null===(n=r.data)||void 0===n?void 0:n.map((function(e){return Object(ot.jsx)(ks,{annualTheme:e,onClick:s},e.id)}));return Object(ot.jsx)(rn.a,{direction:"vertical",className:"w-100",children:Object(ot.jsx)(Fn,{title:"\u0415\u0436\u0435\u0433\u043e\u0434\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u043d\u0430\u043d\u0438\u0439 \u043f\u043e \u041e\u0422",children:c})})})),Ts=j.a.mark(qs),Es=Object(O.b)(),Is=Object(m.b)(Es),Ns=Object(f.a)(),Rs=Object(h.a)(Es),Ps=Object(p.a)({reducer:(Br={router:Is,authentication:F,themes:Rn.reducer,timer:nr.reducer,answers:ra.reducer,annualTheme:Cs.reducer},Object(b.a)(Br,Sn.reducerPath,Sn.reducer),Object(b.a)(Br,Gn.reducerPath,Gn.reducer),Object(b.a)(Br,$n.reducerPath,$n.reducer),Object(b.a)(Br,Wr.reducerPath,Wr.reducer),Object(b.a)(Br,Nr.reducerPath,Nr.reducer),Object(b.a)(Br,Lr.reducerPath,Lr.reducer),Object(b.a)(Br,xs.reducerPath,xs.reducer),Object(b.a)(Br,rs.reducerPath,rs.reducer),Object(b.a)(Br,ws.reducerPath,ws.reducer),Br),middleware:function(e){return e().concat(Ns).concat(Rs).concat(me.middleware)}});function qs(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.c)(Ke);case 2:case"end":return e.stop()}}),Ts)}function Ls(){return(Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fs(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _s(e,t){var n=e.title,a=e.titleId,r=Fs(e,["title","titleId"]);return c.createElement("svg",Ls({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"graduation-cap",className:"svg-inline--fa fa-graduation-cap fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",ref:t,"aria-labelledby":a},r),n?c.createElement("title",{id:a},n):null,Dr||(Dr=c.createElement("path",{fill:"currentColor",d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"})))}Ns.run(qs);var Ms=c.forwardRef(_s),Qs=(n.p,n(619),n(268)),Bs=n.n(Qs),Ds=(n(1365),function(e){var t=localStorage.getItem("API-Version")||"0.0.0";return Object(ot.jsx)(Bs.a.Content,{className:"layout-centered-content",children:Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(oa.a,{justify:"center",children:Object(ot.jsx)(da.a,{xs:23,sm:19,md:14,lg:11,xl:8,xxl:6,children:e.children})}),Object(ot.jsx)("div",{className:"layout-centered-version",children:Object(ot.jsxs)(cn.a.Text,{type:"secondary",children:["\u0412\u0435\u0440\u0441\u0438\u044f: ",t]})})]})})}),Us=function(e){return Object(ot.jsxs)("div",{className:"text-center my-3",children:[Object(ot.jsx)(mr,{component:e.icon}),Object(ot.jsx)(mn,{children:e.title})]})},Hs=function(){return Object(ot.jsxs)(Ds,{children:[Object(ot.jsx)(Us,{icon:Ms,title:"\u041f\u0440\u0435\u0434\u0441\u043c\u0435\u043d\u043d\u044b\u0439 \u042d\u043a\u0437\u0430\u043c\u0435\u043d\u0430\u0442\u043e\u0440"}),Object(ot.jsx)(nn,{})]})},Gs=function(){return Object(ot.jsx)(Ds,{children:Object(ot.jsx)(On,{title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})})},zs=function(){return Object(ot.jsx)(Ds,{children:Object(ot.jsx)(vn,{title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"})})},Ws=n(1435),Ks=n(1436),Vs=n(1437),Xs="smart"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MEDIA_URL:"/api/api/data/storage/media/",REACT_APP_API_URL:"/api",REACT_APP_AUTH_URL:"/auth"}).REACT_APP_BUILD,Js=function(){return Object(ot.jsx)(Ds,{children:Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(mn,{className:"text-center",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(ot.jsx)(cn.a.Paragraph,{className:"text-center mb-1",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u043d\u043e \u0438\u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"}),Object(ot.jsxs)(wt,{route:"/themes",size:"large",block:!0,children:[Object(ot.jsx)(Ws.a,{}),Object(ot.jsx)("span",{children:"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})]}),Object(ot.jsxs)(wt,{route:"/annual/theme",size:"large",block:!0,children:[Object(ot.jsx)(Ks.a,{}),Object(ot.jsx)("span",{children:"\u0415\u0436\u0435\u0433\u043e\u0434\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u043d\u0430\u043d\u0438\u0439"})]}),!Xs&&Object(ot.jsx)(kt,{children:Object(ot.jsxs)(Ct,{route:"/profile",size:"large",block:!0,children:[Object(ot.jsx)(Vs.a,{}),Object(ot.jsx)("span",{children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]})}),Object(ot.jsx)(kt,{children:Object(ot.jsxs)(wt,{route:"/logout",size:"large",block:!0,children:[Object(ot.jsx)(un.a,{}),Object(ot.jsx)("span",{children:"\u0412\u044b\u0445\u043e\u0434"})]})})]})})},Ys=(n(1366),function(e){var t=Object(c.useState)(!1),n=Object(mt.a)(t,2),a=n[0],r=n[1],s={theme:"light",collapsible:!0,breakpoint:"lg",collapsedWidth:0,collapsed:a,onCollapse:function(){r(!a)}};return Object(ot.jsxs)(Bs.a,{className:"min-h-100",children:[Object(ot.jsx)(Bs.a.Sider,Object(G.a)(Object(G.a)({},s),{},{children:e.menu})),Object(ot.jsx)(Bs.a.Content,{className:"menu-layout-content",children:e.children})]})}),Zs=(n(1367),n(200)),$s=n.n(Zs),ec=n(1438),tc=n(1439),nc=n(1440),ac=function(e){var t,n=[Object(ct.h)().pathname],a=ds();return Object(ot.jsxs)($s.a,{selectedKeys:n,mode:"inline",children:[Object(ot.jsx)($s.a.Item,{children:Object(ot.jsxs)(ft.a,{to:"/main",children:[Object(ot.jsx)(fr.a,{}),Object(ot.jsx)("span",{children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})},"/main"),Object(ot.jsx)($s.a.Item,{children:Object(ot.jsxs)(ft.a,{to:"/profile/info",children:[Object(ot.jsx)(ec.a,{}),Object(ot.jsx)("span",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})]})},"/profile/info"),Object(ot.jsx)($s.a.Item,{children:Object(ot.jsxs)(ft.a,{to:"/profile/statistic",children:[Object(ot.jsx)(tc.a,{}),Object(ot.jsx)("span",{children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})]})},"/profile/statistic"),0!==(null===(t=a.data)||void 0===t?void 0:t.length)?Object(ot.jsx)($s.a.Item,{children:Object(ot.jsxs)(ft.a,{to:"/profile/head",children:[Object(ot.jsx)(tc.a,{}),Object(ot.jsx)("span",{children:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"})]})},"/profile/head"):Object(ot.jsx)("div",{}),Object(ot.jsx)($s.a.Item,{children:Object(ot.jsxs)(ft.a,{to:"/profile/debriefings",children:[Object(ot.jsx)(nc.a,{}),Object(ot.jsx)("span",{children:"\u041e\u043f\u0440\u043e\u0441\u044b"}),Object(ot.jsx)(Oa.a,{count:e.debriefingsCount,offset:[10,-10]})]})},"/profile/debriefings")]})},rc=function(e){var t=bs(),n=Object(ot.jsx)(ac,{debriefingsCount:t.data||0});return Object(ot.jsx)(Ys,{menu:n,children:e.children})},sc=n(1411),cc=[{title:"\u0412\u043e\u0432\u043b\u0435\u0447\u0435\u043d\u043d\u043e\u0441\u0442\u044c",dataIndex:"involvement",key:"involvement"},{title:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c",dataIndex:"correctness",key:"correctness"},{title:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",dataIndex:"productivity",key:"productivity"}],ic=function(e){var t=[e.parameters],n=ba(t);return Object(ot.jsx)(Kn.a,{columns:cc,dataSource:n,className:"w-100",title:function(){return e.text},pagination:!1})},oc=function(e){var t,n,a=e.statistic.statisticBySubjects,r=ba(a),s=e.themeId,i=hs({themeId:s}),o=Os(),u=Object(mt.a)(o,2),d=u[0],l=u[1],j=Object(c.useState)(""),b=Object(mt.a)(j,2),p=b[0],m=b[1],h={data:a,xField:"subjectName",yField:"percentage",color:function(e){var t,n=e.subjectName,r=(null===(t=a.find((function(e){return e.subjectName===n})))||void 0===t?void 0:t.percentage)||0;return O(r)}},O=function(e){return e>=75?"#3C763D":e>=50?"#E5CA1B":"#A31515"},f=(null===(t=i.data)||void 0===t?void 0:t.length)?null===(n=i.data)||void 0===n?void 0:n.map((function(e){return{value:e.id,label:e.name}})):[];return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsxs)(oa.a,{gutter:[8,8],children:[Object(ot.jsx)(da.a,{xs:24,xl:12,xxl:16,className:"d-flex",children:Object(ot.jsx)(Mn.a,{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0435",className:"w-100",children:Object(ot.jsx)(sc.a,Object(G.a)({},h))})}),Object(ot.jsx)(da.a,{xs:24,xl:12,xxl:8,className:"d-flex",children:Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)("div",{className:"w-100",children:Object(ot.jsx)(Cr.a,{showSearch:!0,size:"large",style:{width:300},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u044f\u0446",optionFilterProp:"children",options:f,onChange:function(t){var n=f[t-1].label;d({themeId:e.themeId,monthId:t}),m(n.toLowerCase())}})}),l.data?Object(ot.jsx)(ic,{parameters:l.data,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0437\u0430 "+p}):null,Object(ot.jsx)(ic,{parameters:e.statistic.parametersByMonth,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}),Object(ot.jsx)(ic,{parameters:e.statistic.parametersByYear,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0437\u0430 \u0433\u043e\u0434 (\u043d\u0430\u0440\u0430\u0441\u0442\u0430\u044e\u0449\u0438\u0435)"})]})})]}),Object(ot.jsx)(Kn.a,{columns:[{title:"\u0422\u0435\u043c\u0430\u0442\u0438\u043a\u0430",dataIndex:"subjectName",key:"subjectName"},{title:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432 (\u0441 \u043f\u0435\u0440\u0432\u043e\u0439 \u043f\u043e\u043f\u044b\u0442\u043a\u0438)",dataIndex:"percentage",key:"percentage"}],dataSource:r,pagination:!1})]})},uc=function(e){return Object(ot.jsxs)(Mn.a,{title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",children:[Object(ot.jsx)(dc,{title:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",subtitle:e.login}),Object(ot.jsx)(Xn.a,{}),Object(ot.jsx)(dc,{title:"\u0424.\u0418.\u041e:",subtitle:e.fullName}),Object(ot.jsx)(Xn.a,{}),Object(ot.jsx)(dc,{title:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:",subtitle:e.organisation}),Object(ot.jsx)(Xn.a,{}),Object(ot.jsx)(dc,{title:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435:",subtitle:e.division})]})},dc=function(e){return Object(ot.jsxs)("div",{className:"d-flex justify-between",children:[Object(ot.jsx)(cn.a.Text,{strong:!0,children:e.title}),Object(ot.jsx)(cn.a.Text,{type:"secondary",children:e.subtitle})]})},lc=function(){var e=ss();return e.isLoading||!e.data?Object(ot.jsx)(Ln.a,{className:"w-100 text-center"}):Object(ot.jsx)(uc,Object(G.a)({},e.data))},jc=Object(c.memo)(lc),bc=function(){return Object(ot.jsx)(rc,{children:Object(ot.jsx)(jc,{})})},pc=n(1410),mc=function(){var e,t,n=cs(),a=is(),r=Object(mt.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)(0),u=Object(mt.a)(o,2),d=u[0],l=u[1];Object(pc.a)((function(){var e;if(0!==(null===(e=n.data)||void 0===e?void 0:e.length)){var t=n.data[0].id;s({themeId:t})}}),void 0!==n.data);if(!n.isFetching&&0===(null===(e=n.data)||void 0===e?void 0:e.length))return Object(ot.jsx)(mn,{type:"secondary",className:"text-center",children:"\u041f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438"});var j=null===(t=n.data)||void 0===t?void 0:t.map((function(e){return{value:e.id,label:e.name}}));return Object(ot.jsxs)("div",{className:"w-100",children:[Object(ot.jsx)(Cr.a,{showSearch:!0,size:"large",style:{width:380},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",optionFilterProp:"children",options:j,filterOption:function(e,t){var n=e.toLowerCase();return t.label.toLowerCase().includes(n)},filterSort:function(e,t){var n=e.children.toLowerCase(),a=t.children.toLowerCase();return n.localeCompare(a)},onChange:function(e){s({themeId:e}),l(e)}}),i.isFetching?Object(ot.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):i.data&&Object(ot.jsx)(oc,{statistic:i.data,themeId:d})]})},hc=Object(c.memo)(mc),Oc=function(){return Object(ot.jsx)(rc,{children:Object(ot.jsx)(hc,{})})},fc=function(e){var t=[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",dataIndex:"dateCreated",key:"dateCreated",render:function(e){return e.toLocaleString()}},{title:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",dataIndex:"validity",key:"validity",render:function(e){return e.toLocaleString()}},{title:"\u041f\u0440\u043e\u0439\u0442\u0438",key:"details",render:function(t,n){return Object(ot.jsxs)(Ot.a,{type:"text",onClick:function(){return e.onDebriefingSelected(n.id)},children:[Object(ot.jsx)(nc.a,{}),Object(ot.jsx)("span",{children:"\u041f\u0440\u043e\u0439\u0442\u0438"})]})}}];return Object(ot.jsx)(Kn.a,{locale:{emptyText:"\u041d\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u043e\u043f\u0440\u043e\u0441\u043e\u0432"},columns:t,dataSource:e.debriefings,pagination:!1,tableLayout:"fixed"})},xc=(n(1376),n(706)),vc=n.n(xc),wc=(n(1378),n(705)),gc=n.n(wc),yc=(n(593),n(261)),Cc=n.n(yc),kc=function(e){var t=Object(c.useRef)(),n=Object(c.useState)(""),a=Object(mt.a)(n,2),r=a[0],s=a[1],i=function(t){s(t),e.onAnswerChange({answerText:t})};return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(en.Input,{placeholder:"\u041e\u0442\u0432\u0435\u0442",value:r,onChange:function(e){i(e.target.value)},keyboard:t}),Object(ot.jsx)(en.Container,{keyboard:t,layout:Jt,onKeyboard:i,baseClass:r})]})},Ac="OTHER",Sc=function(e){var t=Object(c.useState)(""),n=Object(mt.a)(t,2),a=n[0],r=n[1];return Object(ot.jsx)(Cc.a.Group,{size:"large",buttonStyle:"solid",onChange:function(t){var n=t.target.value;r(n),n!==Ac&&e.onAnswerChange({answerId:n})},children:Object(ot.jsxs)(rn.a,{direction:"vertical",className:"width-100",children:[e.answers.map((function(e){return Object(ot.jsx)(Cc.a,{value:e.id,children:e.value},e.id)})),e.showOtherAnswer&&Object(ot.jsxs)(Cc.a,{value:Ac,children:["\u0414\u0440\u0443\u0433\u043e\u0435...",a===Ac&&Object(ot.jsx)(kc,{onAnswerChange:e.onAnswerChange})]})]})})},Tc=function(e){return{WITH_CHOICE:Object(ot.jsx)(Sc,{answers:e.answers,onAnswerChange:e.onAnswerChange}),CHOICE_AND_ANSWER:Object(ot.jsx)(Sc,{answers:e.answers,onAnswerChange:e.onAnswerChange,showOtherAnswer:!0}),WRITE_ANSWER:Object(ot.jsx)(kc,{onAnswerChange:e.onAnswerChange})}[e.questionType]},Ec=function(e){var t=e.question,n=Object(c.useState)(),a=Object(mt.a)(n,2),r=a[0],s=a[1];return Object(ot.jsxs)(rn.a,{direction:"vertical",size:"large",className:"w-100",children:[Object(ot.jsx)(mn,{children:t.text}),t.mediaFilename&&Object(ot.jsx)(oa.a,{justify:"center",children:Object(ot.jsx)(Ca,{mediaType:t.mediaType,src:"/api/api/data/storage/media/"+t.mediaFilename,question:t.text})}),Object(ot.jsx)(Xn.a,{className:"m-0"}),Object(ot.jsx)(Tc,{answers:t.answers,questionType:t.type,onAnswerChange:function(e){s(e)}},t.id),Object(ot.jsx)(oa.a,{justify:"center",children:Object(ot.jsx)(wt,{icon:Object(ot.jsx)(Ka.a,{}),onClick:function(){r&&e.onAnswerConfirm(t.id,r)},children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})})]})},Ic=function(e){var t=ms({debriefingId:e.debriefingId}),n=t.data,a=t.isLoading,r=fs(),s=Object(mt.a)(r,1)[0],i=Object(c.useState)(0),o=Object(mt.a)(i,2),u=o[0],d=o[1],l=n&&n[u],j=n?(u+1)/n.length*100:0,b=!!n&&u+1>(null===n||void 0===n?void 0:n.length);return a?Object(ot.jsx)(Ln.a,{className:"w-100 text-center"}):b?Object(ot.jsx)(gc.a,{status:"success",title:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u043e\u043f\u0440\u043e\u0441\u0435!"}):Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[l&&Object(ot.jsx)(Ec,{question:l,onAnswerConfirm:function(e,t){var n=t.answerId,a=t.answerText;s({questionId:e,answerId:n,textAnswer:a}),d(u+1)}}),Object(ot.jsx)(vc.a,{percent:j,showInfo:!1})]})},Nc=Object(c.memo)(Ic),Rc=function(){var e=Object(c.useState)(!1),t=Object(mt.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(),s=Object(mt.a)(r,2),i=s[0],o=s[1],u=ps();return u.data?Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(fc,{debriefings:u.data,onDebriefingSelected:function(e){o(e),a(!0)}}),Object(ot.jsx)(Xa,{condition:void 0!==i,children:Object(ot.jsx)(jn.a,{title:"\u041e\u043f\u0440\u043e\u0441",visible:n,closable:!1,centered:!0,footer:[Object(ot.jsx)(Ot.a,{type:"primary",onClick:function(){a(!1)},children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c"})],children:Object(ot.jsx)(Nc,{debriefingId:i})})})]}):Object(ot.jsx)(Ln.a,{className:"w-100 text-center"})},Pc=Object(c.memo)(Rc),qc=function(){return Object(ot.jsx)(rc,{children:Object(ot.jsx)(Pc,{})})},Lc=function(e){var t,n=e.statistic.statisticBySubjects,a=ba(n),r=e.themeId,s=e.userId,i=ls({themeId:r,userId:s}),o=js(),u=Object(mt.a)(o,2),d=u[0],l=u[1],j=Object(c.useState)(""),b=Object(mt.a)(j,2),p=b[0],m=b[1],h={data:n,xField:"subjectName",yField:"percentage",color:function(e){var t,a=e.subjectName,r=(null===(t=n.find((function(e){return e.subjectName===a})))||void 0===t?void 0:t.percentage)||0;return O(r)}},O=function(e){return e>=75?"#3C763D":e>=50?"#E5CA1B":"#A31515"},f=null===(t=i.data)||void 0===t?void 0:t.map((function(e){return{value:e.id,label:e.name}}));return Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsxs)(oa.a,{gutter:[8,8],children:[Object(ot.jsx)(da.a,{xs:24,xl:12,xxl:16,className:"d-flex",children:Object(ot.jsx)(Mn.a,{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0435",className:"w-100",children:Object(ot.jsx)(sc.a,Object(G.a)({},h))})}),Object(ot.jsx)(da.a,{xs:24,xl:12,xxl:8,className:"d-flex",children:Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)("div",{className:"w-100",children:Object(ot.jsx)(Cr.a,{showSearch:!0,size:"large",style:{width:300},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u044f\u0446",optionFilterProp:"children",options:f,onChange:function(t){var n=f[t-1].label;d({themeId:e.themeId,monthId:t,userId:e.userId}),m(n.toLowerCase())}})}),l.data?Object(ot.jsx)(ic,{parameters:l.data,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0437\u0430 "+p}):null,Object(ot.jsx)(ic,{parameters:e.statistic.parametersByMonth,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}),Object(ot.jsx)(ic,{parameters:e.statistic.parametersByYear,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0437\u0430 \u0433\u043e\u0434 (\u043d\u0430\u0440\u0430\u0441\u0442\u0430\u044e\u0449\u0438\u0435)"})]})})]}),Object(ot.jsx)(Kn.a,{columns:[{title:"\u0422\u0435\u043c\u0430\u0442\u0438\u043a\u0430",dataIndex:"subjectName",key:"subjectName"},{title:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432 (\u0441 \u043f\u0435\u0440\u0432\u043e\u0439 \u043f\u043e\u043f\u044b\u0442\u043a\u0438)",dataIndex:"percentage",key:"percentage"}],dataSource:a,pagination:!1})]})},Fc=function(e){var t,n,a=e.userId,r=os(),s=Object(mt.a)(r,2),i=s[0],o=s[1],u=us({userId:a}),d=Object(c.useState)(0),l=Object(mt.a)(d,2),j=l[0],b=l[1];Object(pc.a)((function(){var e;if(0!==(null===(e=u.data)||void 0===e?void 0:e.length)){var t=u.data[0].id;i({userId:a,themeId:t})}}),void 0!==u.data);if(!u.isFetching&&0===(null===(t=u.data)||void 0===t?void 0:t.length))return Object(ot.jsx)(mn,{type:"secondary",className:"text-center",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u043e\u0439\u0442\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438"});var p=null===(n=u.data)||void 0===n?void 0:n.map((function(e){return{value:e.id,label:e.name}}));return Object(ot.jsxs)("div",{className:"w-100",children:[Object(ot.jsx)(Cr.a,{showSearch:!0,size:"large",style:{width:380},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",optionFilterProp:"children",options:p,filterOption:function(e,t){var n=e.toLowerCase();return t.label.toLowerCase().includes(n)},filterSort:function(e,t){var n=e.children.toLowerCase(),a=t.children.toLowerCase();return n.localeCompare(a)},onChange:function(e){i({userId:a,themeId:e}),b(e),console.log("userId="+a+" themeId="+e)}}),o.isFetching?Object(ot.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):o.data&&Object(ot.jsx)(Lc,{statistic:o.data,userId:a,themeId:j})]})},_c=Object(c.memo)(Fc),Mc=function(){var e,t=ds(),n=Object(c.useState)(0),a=Object(mt.a)(n,2),r=a[0],s=a[1],i=null===(e=t.data)||void 0===e?void 0:e.map((function(e){return{value:e.id,label:e.fullName}}));return Object(ot.jsxs)("div",{className:"w-100",children:[Object(ot.jsx)(Cr.a,{showSearch:!0,size:"large",style:{width:380},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",optionFilterProp:"children",options:i,filterOption:function(e,t){var n=e.toLowerCase();return t.label.toLowerCase().includes(n)},onChange:function(e){s(e)}}),Object(ot.jsx)("div",{className:"w-100",style:{marginTop:10},children:Object(ot.jsx)(_c,{userId:r})})]})},Qc=Object(c.memo)(Mc),Bc=function(){return Object(ot.jsx)(rc,{children:Object(ot.jsx)(Qc,{})})},Dc=function(){return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(pt,{path:"/profile/info",component:bc,exact:!0}),Object(ot.jsx)(pt,{path:"/profile/statistic",component:Oc,exact:!0}),Object(ot.jsx)(pt,{path:"/profile/head",component:Bc,exact:!0}),Object(ot.jsx)(pt,{path:"/profile/debriefings",component:qc,exact:!0}),Object(ot.jsx)(ct.a,{from:"/profile",to:"/profile/info"})]})},Uc=function(e){var t=vs(void 0,{refetchOnMountOrArgChange:!0}),n=fs(),a=Object(mt.a)(n,1)[0],r={question:t.data,onAnswerConfirm:function(e,t){var n=t.answerId,r=t.answerText;a({questionId:e,answerId:n,textAnswer:r}),i()}},s=ya(Ec,r,{title:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441-\u043e\u043f\u0440\u043e\u0441",centered:!0,closable:!1,maskClosable:!1,footer:[]}),c=s.showModal,i=s.hideModal,o=s.Modal;return Object(pc.a)(c,!t.isLoading&&void 0!==t.data),Object(ot.jsxs)(ot.Fragment,{children:[!t.isLoading&&e.children,o]})},Hc=function(){return Object(ot.jsx)(Ds,{children:Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(Uc,{children:Object(ot.jsx)(Hn,{})}),Object(ot.jsx)(xr,{})]})})},Gc=function(){return Object(ot.jsx)(Ds,{children:Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(Zn,{}),Object(ot.jsx)(mn,{className:"text-center mt-1",children:"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(ot.jsx)(cn.a.Paragraph,{className:"text-center mb-1",children:'\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u0440\u043e\u0439\u0442\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435" \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430 \u043a \u0432\u043e\u043f\u0440\u043e\u0441\u0443'}),Object(ot.jsxs)(wt,{route:"/test",block:!0,children:[Object(ot.jsx)(ga.a,{}),Object(ot.jsx)("span",{children:"\u041f\u0440\u043e\u0439\u0442\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})]}),Object(ot.jsx)(vr,{})]})})},zc=function(){var e=Object(d.g)(Pn);return e?{PRSEKZ_TEST:Object(ot.jsx)(zr,{}),HEAD_TEST:Object(ot.jsx)(zr,{}),COMPLEX_TEST:Object(ot.jsx)(as,{})}[e.themeType.type]:Object(ot.jsx)(ct.a,{to:"/themes"})},Wc=Object(c.memo)(zc),Kc=function(){return Object(ot.jsx)(Ds,{children:Object(ot.jsx)(Wc,{})})},Vc=function(){return Object(ot.jsx)(Ds,{children:Object(ot.jsxs)(rn.a,{direction:"vertical",className:"w-100",children:[Object(ot.jsx)(Ss,{}),Object(ot.jsx)(xr,{})]})})},Xc=me.injectEndpoints({endpoints:function(e){return{createAnnualTest:e.query({query:function(e){return{url:"/new/test/annual/create",params:e}}}),getAnnualQuestion:e.query({query:function(e){return{url:"/new/test/annual/question",params:e}}}),saveAnnualQuestion:e.mutation({query:function(e){return{url:"/new/test/annual/question/save",method:"POST",body:e}}}),skipAnnualQuestion:e.mutation({query:function(e){return{url:"/new/test/annual/question/skip",method:"POST",body:e}}}),getAnnualTestResult:e.query({query:function(e){return{url:"/new/test/annual/result",params:e}}})}}}),Jc=Xc.useLazyCreateAnnualTestQuery,Yc=Xc.useGetAnnualQuestionQuery,Zc=Xc.useSkipAnnualQuestionMutation,$c=Xc.useSaveAnnualQuestionMutation,ei=Xc.useGetAnnualTestResultQuery,ti=Object(d.d)((function(e){return{selectedAnswers:e.answers.selectedAnswers,selectedSecondAnswers:e.answers.selectedSecondAnswers,textAnswer:e.answers.textAnswer}}))((function(e){var t=Object(d.g)(sa),n=Yc({testId:e.testId}),a=$c(),r=Object(mt.a)(a,1)[0],s=Zc(),c=Object(mt.a)(s,1)[0];if(!n.data)return Object(ot.jsx)(Ln.a,{className:"w-100 text-center"});var i=function(){var t=Object(v.a)(j.a.mark((function t(){var a,s,c,i,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null===(a=n.data)||void 0===a?void 0:a.annualTestId,c=e.selectedAnswers,i=e.selectedSecondAnswers,o=e.textAnswer,t.next=6,r({annualTestId:s,answers:c,secondAnswers:i,textAnswer:o});case 6:e.onAnswer(),e.onReset(),n.refetch();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(v.a)(j.a.mark((function t(){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null===(a=n.data)||void 0===a?void 0:a.annualTestId,t.next=3,c({annualTestId:r});case 3:e.onReset(),n.refetch();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=n.data.question.text,l=n.data.question.typeQuestionArticle,b=Wa(l),p=n.data.question.mediaType,m="/api/api/data/storage/media/"+n.data.question.mediaFilename,h=n.data.canBeSkipped;return Object(ot.jsxs)(Ja,{children:[Object(ot.jsx)(Ya.Container,{children:Object(ot.jsx)(Ya.Counter,{current:e.answeredCount,total:e.totalCount})}),Object(ot.jsx)(Za,{text:u,description:b}),p&&m&&Object(ot.jsx)($a,{mediaType:p,mediaSrc:m,text:u}),Object(ot.jsx)(Ga,{answers:n.data.question.answers,questionType:l}),Object(ot.jsxs)(er.Container,{children:[Object(ot.jsx)(er.ConfirmButton,{onConfirm:i,enabled:t}),Object(ot.jsx)(er.SkipButton,{onSkip:o,enabled:h})]})]})})),ni=function(e){var t=ei({testId:e.testId});return t.data?Object(ot.jsxs)(Ir.Wrapper,{isCorrect:t.data.testCorrect,successText:"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0439\u0434\u0435\u043d",wrongText:"\u0422\u0435\u0441\u0442 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d",children:[Object(ot.jsx)(Ir.AnnualTest,{totalQuestions:t.data.totalQuestions,countRight:t.data.countRight,countFalse:t.data.countFalse,falseQuantity:t.data.falseQuantity}),Object(ot.jsx)(xr,{})]}):Object(ot.jsx)(Ln.a,{className:"w-100 text-center"})},ai=Object(c.memo)(ni),ri={resetAnswers:ra.actions.resetAnswers},si=Object(d.d)((function(e){return{selectedAnnualTheme:e.annualTheme.selectedAnnualTheme,selectedAnswers:e.answers.selectedAnswers,textAnswer:e.answers.textAnswer}}),ri)((function(e){var t=Object(c.useState)(0),n=Object(mt.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),i=Object(mt.a)(s,2),o=i[0],u=i[1],d=Jc(),l=Object(mt.a)(d,2),j=l[0],b=l[1],p=function(e){var t="\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f.";return e.returnValue=t,t};Object(it.a)((function(){e.selectedAnnualTheme&&j({testId:e.selectedAnnualTheme.id}),window.addEventListener("beforeunload",p)})),Object(Zr.a)((function(){b.data&&a===b.data.questionsCount&&u(!0)}),[a]),Object(ar.a)((function(){window.removeEventListener("beforeunload",p)}));return b.isLoading||!b.data?Object(ot.jsx)(Ln.a,{className:"w-100 text-center"}):o?Object(ot.jsx)(ai,{testId:e.selectedAnnualTheme.id}):Object(ot.jsx)(ti,{testId:e.selectedAnnualTheme.id,answeredCount:a+1,totalCount:b.data.questionsCount,onAnswer:function(){r(a+1)},onReset:function(){e.resetAnswers()}})})),ci=function(){return Object(ot.jsx)(Ds,{children:Object(ot.jsx)(si,{})})},ii="smart"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MEDIA_URL:"/api/api/data/storage/media/",REACT_APP_API_URL:"/api",REACT_APP_AUTH_URL:"/auth"}).REACT_APP_BUILD,oi=function(){return Object(c.useEffect)((function(){ii&&(localStorage.removeItem("accessToken"),oe.sendClientEvent({method:"ready"}))}),[]),Object(ot.jsx)(m.a,{history:Es,children:Object(ot.jsxs)(ct.d,{children:[Object(ot.jsx)(ut,{path:"/login",component:Gs}),Object(ot.jsx)(ut,{path:"/password",component:zs}),Object(ot.jsx)(ct.b,{path:"/sap/authorization",component:St}),Object(ot.jsx)(ct.b,{path:"/mobile/authorization",component:Et}),Object(ot.jsx)(dt,{path:"/admin",component:Hs}),Object(ot.jsx)(pt,{path:"/main",component:Js}),Object(ot.jsx)(pt,{path:"/profile",component:Dc}),Object(ot.jsx)(pt,{path:"/annual/theme/",component:Vc}),Object(ot.jsx)(pt,{path:"/themes/:themeId",component:Gc}),Object(ot.jsx)(pt,{path:"/themes",component:Hc}),Object(ot.jsx)(pt,{path:"/test",component:Kc}),Object(ot.jsx)(pt,{path:"/annual/test",component:ci}),Object(ot.jsx)(pt,{path:"/logout",component:Nt}),Object(ot.jsx)(ut,{path:"/",component:Hs})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(1390),n(450),n(1391),n(1392);u.a.render(Object(ot.jsx)(i.a.StrictMode,{children:Object(ot.jsx)(d.a,{store:Ps,children:Object(ot.jsx)(oi,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},481:function(e,t,n){},589:function(e,t,n){}},[[1393,1,2]]]);
//# sourceMappingURL=main.41d46d99.chunk.js.map